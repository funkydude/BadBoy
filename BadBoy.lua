
-- GLOBALS: BADBOY_BLACKLIST, BADBOY_OPTIONS, BadBoyLog, ChatFrame1, GetTime, print, CalendarGetDate
-- GLOBALS: GameTooltip, C_Timer, IsEncounterInProgress, GameTooltip_Hide
local _, S = ...
S.gnt(81,"107,132,129,104,111,128,106,116,110,122,114,129,118,122,114^107,132,129,104,111,128,129,106,116,124,121,113,115,124,127,112,128,116,124^107,129,127,110,113,118,123,116,112,128,116,124,59,55,116,124,121,113^107,132,129,104,111,128,129,106,112,128,116,124,112,110,128,114^107,132,129,104,128,129,106,132,124,132,110,112,112,124,130,123,129^107,132,129,104,111,128,129,106,112,128,116,124,128,129,114,110,122,116,118,115,129^107,132,129,104,111,128,129,106,112,128,116,124,118,129,114,122^107,132,129,104,111,128,106,110,76,123,76,110,132,114,128,124,122,114,127,128,110,112,112,124,130,123,129^112,110,128,118,123,124,59,55,50,113,56,133,63,59,55,50,113,56,133,64^132,129,104,111,128,106,132,124,132,116,124,121,113,59,55,127,128,112,124,118,123,129,76,128^107,132,129,111,50,113,56,122,61,68,116,125^107,129,127,110,113,118,123,116,132,124,132,116,124,121,113,115,124,127,124,76,128,76,127,128,116,124,121,113^107,132,129,104,111,128,129,106,122,134,116,124,121,113,115,124,127,112,128,116,124,128,120,118,123^112,128,116,124,128,120,118,123,128,59,55,116,124,121,113,59,55,128,117,124,125,59,55,122,124,130,123,129,128^107,116,124,129,128,124,122,114,127,128,61,68,60,76,127,76,128,76,64,76,116,124,121,113,121,110,134,118,123,116,110,127,124,130,123,113,59,55,122,114^132,129,104,111,128,106,127,130,123,114,128,112,110,125,114,116,124,121,113^107,132,129,104,111,128,129,106,120,114,134,128,118,123,112,128,116,124^116,124,121,113,59,55,129,127,118,125,125,76,121,114,59,55,112,110,128,118,123,124^107,132,129,104,111,128,106,116,124,128,120,118,123,128^111,114,129,59,55,127,124,121,121,59,55,133,63,59,55,133,64,59,55,122,118,123,59,55,122,110,133^112,110,128,118,123,124,59,55,121,114,116,118,129,59,55,128,110,115,114,59,55,112,110,128,118,123,124^107,128,114,121,121,118,123,116,128,124,122,114,112,128,116,124,112,110,128,114^107,132,129,104,111,128,129,106,112,128,116,124,112,110,122,124^107,132,129,104,111,128,106,116,110,122,114,112,124,113,114^116,110,122,111,121,114,59,55,127,124,121,121,59,55,133,63,59,55,127,124,121,121,59,55,133,66^107,111,130,134,118,123,116,112,128,116,124,120,114,134^112,110,128,118,123,124,59,55,111,114,129,59,55,50,113,56^107,132,129,128,50,113,56,113,110,134,128,76,116,110,122,114,129,118,122,114^107,132,129,129,132,124,132,116,115,124,127,124,128,127,128,116^107,132,129,104,111,128,106,116,110,122,114,112,110,127,113^132,110,123,129,129,124,128,114,121,121,104,60,105,106,111,130,134,112,128,116,124,118,129,114,122^132,129,104,111,128,106,127,130,123,114,128,112,110,125,114,125,130,127,114^107,111,130,134,118,123,116,127,128,64,128,129,130,115,115^127,130,123,114,128,112,110,125,114,116,124,121,113,115,124,127,132,124,132,116,124,121,113^107,132,129,104,111,128,106,125,127,114,125,110,118,113,112,110,127,113^113,118,112,114,59,55,133,63,59,55,133,64,59,55,111,114,129,128^107,111,130,134,118,123,116,124,128,127,128,116,124,121,113,132,118,129,117,132,124,132,116,124,121,113^132,129,104,111,128,106,132,124,132,116,124,121,113,59,55,127,128,116,124,121,113^107,132,129,104,111,128,129,106,122,134,132,124,132,116,124,121,113,59,55,112,128,116,124,128,120,118,123^107,132,129,104,111,128,129,106,112,128,116,124,120,123,118,104,115,131,106,114^107,132,129,104,111,128,106,111,110,121,110,123,112,114,125,110,134,125,110,121,111,134,116,124,121,113^132,110,123,129,129,124,111,130,134,104,60,105,106,128,114,121,121,112,128,116,124,118,129,114,122^107,132,129,104,111,128,129,106,112,128,116,124,112,117,114,110,125^107,132,129,104,111,128,129,106,128,124,122,114,112,128,116,124,128,120,118,123^107,132,129,104,111,128,106,50,113,56,122,124,123,129,117,59,55,116,110,122,114,129,118,122,114^107,132,129,104,111,128,106,50,113,56,113,110,134,59,55,116,110,122,114,112,110,127,113^113,124,130,111,121,114,59,55,129,127,118,125,125,76,121,114,59,55,112,110,128,118,123,124^107,132,129,128,50,113,56,120,115,124,127,50,113,56,114,130^132,129,104,111,128,106,59,55,127,130,123,114,128,112,110,125,114,122,124,123,114,134,59,55,50,113,56,120^107,132,129,111,116,124,121,113,59,55,116,110,122,114,129,118,122,114^112,110,128,118,123,124,59,55,127,124,121,121,59,55,50,113,56,59,55,127,124,121,121,59,55,50,113,56^112,110,128,118,123,124,59,55,132,117,118,128,125,114,127,59,55,118,123,115,124^132,129,128,132,124,132,110,112,112,124,130,123,129,59,55,114,125,118,112^107,128,114,121,121,118,123,116,112,128,116,124,118,129,114,122^107,111,130,134,118,123,116,112,128,116,124,120,123,118,104,115,131,106,114^114,133,112,117,110,123,116,118,123,116,127,128,116,124,121,113^107,111,130,134,118,123,116,112,128,50,59,76,116,104,61,124,106,128,120,118,123^107,132,129,111,124,128,127,128,116,125^107,132,129,104,128,129,106,110,112,112,124,130,123,129,132,118,129,117^112,110,128,118,123,124,59,55,113,118,112,114,59,55,50,113,56,59,55,129,127,118,125,121,114^107,132,129,104,111,128,106,127,128,110,112,112,124,130,123,129^107,111,130,134,118,123,116,112,117,114,110,125,112,128,116,124,128,120,118,123^107,132,129,104,111,128,129,106,112,128,116,124,110,112,112^113,104,124,130,106,104,130,111,106,111,121,114,59,55,50,113,56,59,55,129,127,118,125,125,76,121,114^107,132,129,111,127,128,116,125,49^107,128,114,121,121,118,123,116,116,124,121,113,128,76,115,124,127,112,128,116,124^107,132,129,129,132,124,132,116,115,124,127,127,128,61,68,116^107,132,129,111,116,124,121,113,59,55,122,124,130,123,129^127,124,130,121,114,129,129,114,59,55,127,124,121,121,59,55,63,133,59,55,64,133^107,132,129,104,111,128,106,125,127,114,125,110,118,113,116,110,122,114,112,110,127,113^107,132,129,104,111,128,106,104,64,67,106,61,113,110,134,128,76,125,127,114,125,110,118,113,116,110,122,114,129,118,122,114^107,132,129,129,132,124,132,116,124,121,113,115,124,127,124,121,113,128,112,117,124,124,121,127,128,116,124,121,113^107,128,114,121,121,118,123,116,112,128,116,124,128,120,118,123^116,124,121,113,115,124,127,127,130,123,114,128,112,110,125,114,116,124,121,113^107,132,129,104,111,128,129,106,121,114,116,118,124,123,112,76,113,76,120,114,134^107,132,129,104,111,128,129,106,112,128,128,120,118,123,128^107,132,129,129,132,124,132,116,124,121,113,115,124,127,124,128,127,128^112,110,128,118,123,124,59,55,127,124,121,121,59,55,113,124,130,111,121,114^107,132,129,128,112,117,114,110,125,116,124,121,113^107,116,124,129,110,123,134,127,128,61,76,64,60,127,128,61,76,68,116,124,121,113,121,110,134,118,123,116,110,127,124,130,123,113,59,55,116,124,124,113,124,115,115,114,127^107,132,129,128,112,117,114,110,125,110,123,113,115,110,128,129,116,124,121,113^107,132,129,104,111,128,129,106,112,128,116,124,120,114,134^127,124,121,121,116,110,122,111,121,114,59,55,50,113,56,59,55,121,124,128,114,50,113,56,59,55,132,118,123,59,55,50,113,56^107,116,124,129,110,123,134,127,130,123,114,128,112,110,125,114,116,124,121,113,60,132,122,114^107,132,129,128,50,113,56,113,110,134,128,76,116,110,122,114,112,110,127,113^107,132,129,104,111,128,129,106,127,128,61,68,116,124,121,113^132,129,104,111,128,129,106,127,128,64,76,116,124,121,113,59,55,132,124,132,116,124,121,113^127,124,121,121,59,55,116,110,122,114,59,55,116,124,121,113,59,55,132,118,123,59,55,121,124,132,114,127^121,130,112,120,59,55,127,124,121,121,59,55,113,124,130,111,121,114,59,55,116,124,121,113^107,132,129,104,111,128,129,106,110,123,134,112,128,116,124,128,120,118,123^112,110,128,118,123,124,59,55,50,113,56,59,55,113,124,130,111,121,114,59,55,50,113,56,59,55,129,127,118,125,125,76,121,114^107,132,129,104,111,128,129,106,112,128,50,59,76,116,124,128,120,118,123^107,128,114,121,121,118,123,116,112,128,116,124,112,110,128,114^50,113,56,59,55,113,104,124,130,106,104,130,111,106,111,121,114,59,55,50,113,56,59,55,129,127,118,125^107,132,129,104,111,128,129,106,112,117,114,110,125,112,128,116,124,128,120,118,123^132,129,104,111,128,106,127,130,123,114,128,112,110,125,114,110,112,112,124,130,123,129^129,127,110,113,118,123,116,122,134,132,124,127,121,113,124,115,132,110,127,112,127,110,115,129,116,124,121,113,115,124,127,59,55,127,130,123,114,128,112,110,125,114,116,124,121,113^127,124,121,121,59,55,132,118,123,59,55,113,124,130,111,121,114,59,55,122,118,123,59,55,122,110,133^112,110,128,118,123,124,59,55,60,132,59,55,50,113,56,59,55,127,124,121,121^107,132,129,104,128,111,129,106,132,124,132,116,124,121,113,115,124,127,112,128,116,124,128,120,118,123^121,130,112,120,59,55,127,124,121,121,59,55,50,113,56,120,59,55,122,118,123,130,129,114,128,59,55,125,128,129^132,124,132,116,124,121,113,115,124,127,112,128,116,124,120,114,134^107,132,129,104,111,128,106,50,113,56,127,128,110,112,112,124,130,123,129^127,124,121,121,59,55,50,113,56,59,55,127,124,121,121,59,55,50,113,56,59,55,111,114,129^107,132,129,104,111,128,129,106,112,128,116,124,112,113,120,114,114,76,134^111,130,134,118,123,116,76,127,130,123,114,128,112,110,125,114,104,110,116,106","108,129,111,122,120,115,128,112,119,122,122,119,117,130,77,117,131,122,114,105,123,132,107,105,115,119,107,105,114,111,107,129,133,119,129,118^129,130,125,128,123,111,124,117,114,117,131,122,114,119,124,124,115,60,56,116,119,124,124,129,112,119,122,122,119,117,130^121,122,136,60,56,244,151,177,63,66,70,66,66,69,63,64,64,66^108,117,131,122,114,51,114,57,121,60,56,121,128,60,56,129,121,135,126,115^108,129,111,122,120,115,128,117,131,122,114,60,56,51,114,57,121,128,116,125,128,51,114,57,121,60,56,129,133,119,129,118^243,157,197,243,151,155,58,246,153,191,247,169,146,60,56,242,198,155,243,202,200,243,150,196,244,196,150,246,194,199,58,242,198,155,244,162,196,244,152,202,247,149,159,60,56,242,198,142,243,189,199,242,198,142,246,194,194,243,205,145,244,170,155,243,152,175,244,171,179,247,170,142,243,179,165,246,177,147,247,179,190,243,161,143,243,170,177,245,151,183,244,163,177,242,201,196^108,129,111,122,120,115,128,129,126,115,122,132,111,122,131,130,111,132,119,111,129,133,119,129,118^124,125,117,115,124,114,115,128,129,121,111,122,121,125,112,115,123,125,124,130,60,56,119,124,116,125^108,121,125,126,115,128,117,132,119,111,129,133,119,129,118^108,124,111,124,129,125,123,111,128,129,131,117,115,124,126,111,117,131,122,114,60,56,126,128,119,129^123,125,128,115,119,124,116,125,60,56,113,118,119,115,116,112,125,125,129,130,51,60,77,124,115,130^108,132,119,122,122,124,111,117,125,124,121,125,126,111,117,131,122,114,60,56,129,111,122,120,115,128,131,77,130,77,123,119,130,130,112,119,122,122,119,117,130^108,129,209,180,122,117,115,128,117,126,128,119,129,119,121,121,115,116,111,129,122,111,117,130^108,133,130,105,112,129,107,117,131,122,114,129,133,119,129,118,50^133,130,129,60,56,131,122,114,119,128,128,131,124,129,60,56,129,123,125,125,130,118,111,124,114,115,111,129,135,60,56,114,125,119,124,117,123,135,130,118,119,113,113,111,128,128,119,115,129^133,115,112,129,119,130,115,60,56,115,126,119,113,113,111,128,128,135^63,243,157,197,247,171,176,243,151,155,246,153,191,247,169,146,245,149,145,243,200,181,63,63,63,60,56,112,125,129,129,60,56,246,205,166,244,170,151,243,158,146,245,181,155,242,202,166,244,145,174,60,56,63,63,63,243,147,182,247,142,168,243,169,176^123,135,130,118,119,113,60,56,113,125,111,113,118,119,124,117,60,56,123,123,125,126,128,125,116^242,198,142,244,152,152,246,205,149,244,171,179,247,170,142,244,191,144,71,66,67,71,70,67,246,177,147,243,178,149,245,168,146,242,198,152,243,198,171,123,244,150,159,246,205,169,243,178,181,243,169,176,244,151,161,244,155,172,246,189,197,246,181,143,246,190,147^108,129,111,122,120,115,128,133,125,133,117,131,122,114,60,56,129,133,119,129,118^108,129,115,122,122,119,124,117,131,122,114,119,128,118,115,128,125,119,113,116,131,122,122,113,122,115,111,128,116,125,128,51,114,51,114,51,114,121,117,125,122,114,60,56,111,122,129,125,129,115,122,122,119,124,117,117,118,131,131,124,60,56,115,134,126,115,128,119,115,124,113,115,114,117,128,125,131,126,60,56,119,124,116,125^129,115,122,122,119,124,117,60,56,112,125,125,129,130,60,56,117,131,111,77,128,111,124,130,115,115,60,56,117,119,132,115,111,133,111,135,60,56,119,124,116,115,128,124,111,122,60,56,129,126,125,130^132,119,129,119,130,116,111,129,130,128,131,124,105,51,60,58,107,119,124,116,125^108,112,119,122,122,119,117,130,117,131,122,114,116,119,124,124,129,119,124,124,115,50^108,117,132,119,111,129,133,119,129,118,116,119,124,124,129^243,147,182,245,204,156,247,180,164,244,171,142,243,147,186,242,202,168,60,56,122,119,123,119,130,60,56,243,149,200,243,162,188,243,157,192,246,189,165,60,56,243,157,178,243,190,162,242,198,199,243,171,158,247,184,159^133,125,133,118,131,124,130,112,125,125,129,130,119,124,117,129,115,128,132,119,113,115^123,135,130,118,119,113,60,56,121,115,135,60,56,131,126,117,128,111,114,115,60,56,123,111,129,130,115,128,60,56,111,113,118,119,115,132,60,56,129,121,119,124,60,56,133,115,115,121,122,135^246,152,189,120,119,124,117,134,131,111,124,65,65,66,66,67,64,63^223,148,115,222,203,105,111,115,107,60,56,122,125,125,130,121,115,115,126,115,128,105,51,60,58,107,113,125,123^108,129,209,180,122,117,115,128,51,114,57,121,60,56,123,125,112,119,122,115,126,111,135^114,119,129,113,125,128,114,131,126,65,71,62,65^108,243,147,182,244,164,190,246,205,169,243,200,180,61,246,153,191,247,169,146,245,156,153,243,200,181,243,147,182,247,142,168,246,205,169,245,201,146,243,190,191,243,202,142,244,151,161,244,171,179,243,158,146,245,181,155,246,142,143,244,171,205,244,170,186,244,170,155,243,157,192,246,189,165,63,63,62,245,156,190,243,170,182,243,202,142,244,151,161,58,243,147,182,245,193,201,244,165,174,245,185,172,242,200,151,244,186,176,246,205,156,243,158,146,242,203,155,246,142,143,244,171,205,244,164,190,243,199,194,243,205,185,242,199,158,50^108,129,111,122,120,115,128,117,131,122,114,129,124,111,112,112,130,132,119,111,129,133,119,129,118^108,129,111,122,120,115,128,117,61,133,123,115,50^243,157,197,247,171,176,243,151,155,246,153,191,247,169,146,245,149,145,243,200,181,63,63,63,247,183,186,242,198,152,243,202,142,244,151,161,244,201,175,245,200,181,243,155,193,243,157,189,242,198,155,244,162,196,244,152,202,244,190,198,242,199,147,244,152,195,243,197,188,243,149,200,242,198,142,242,201,196,244,153,155,242,198,142,242,201,196,243,189,148,244,150,159,246,205,169,243,169,176^123,111,117,115,130,125,133,115,128,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123^108,117,131,122,114,132,119,111,129,133,119,129,118^114,132,119,124,117,60,56,135,113,222,201,135,128,222,198,60,56,114,132,119,124,117^116,111,129,130,66,117,125,122,114,105,51,60,58,107,113,125,123,60,56,129,125,130,113,121^113,111,222,199,130,60,56,121,119,124,117,117,125,122,114,105,51,60,58,107,128,131^108,116,119,124,124,129,129,126,115,122,132,111,122,131,130,111,60,56,130,111,128,129,133,119,129,118,60,56,133,123,119,117^108,124,111,117,125,124,129,125,123,129,125,121,115,128,117,131,122,114,111,130,130,121,125,126,111^129,119,130,115,60,56,123,123,105,125,62,107,122,132,122,51,60,113,105,125,62,107,123^129,111,122,120,115,128,117,131,122,114,60,56,114,115,130,111,119,122,60,56,129,130,125,113,121^133,130,129,60,56,118,115,128,125,119,113,133,119,130,118,123,122,60,56,112,119,117,114,119,129,113,125,131,124,130,60,56,113,125,123,115,117,115,130,135,125,131,128^112,125,125,129,130,119,124,117,105,51,60,58,107,126,128,125,60,56,123,125,131,124,130^132,119,129,119,130,133,125,133,132,115,124,114,125,128,51,60,105,124,113,125,107,105,115,125,128,107,105,130,123,117,107^130,119,130,111,124,119,131,123,112,111,135,60,56,122,119,132,128,111,119,129,125,124^243,204,188,242,205,175,60,56,67,71,65,70,65,69,62,65,63^108,121,125,126,115,128,117,131,122,114,116,125,128,126,115,124,117,111,128^128,111,130,119,124,117,129,60,56,113,125,111,113,118,119,124,117,60,56,122,115,117,115,124,114,111,128,135,60,56,126,128,119,136,115,129,60,56,117,125,122,114,60,56,119,124,116,125^113,122,111,129,129,60,56,116,112,123,130,115,111,123,51,60,113,125,123^108,129,125,117,115,128,115,124,114,111,124,129,121,117,125,122,114,129,209,180,122,117,115,128^133,130,129,60,56,128,131,124,129,60,56,111,128,130,119,116,111,113,130,126,125,133,115,128,60,56,122,115,132,115,122,119,124,117,60,56,123,125,128,115,60,56,119,124,116,125^129,115,122,122,119,124,117,60,56,133,111,128,113,128,111,116,130,60,56,116,131,122,122,117,115,111,128,112,125,125,129,130,60,56,135,125,131,133,119,122,122,117,115,130,60,56,128,115,122,119,113,129,60,56,129,126,125,130,129^112,115,129,131,113,118,115,124,60,56,133,125,133,132,115,124,114,125,128,51,60,113,125,123^114,115,111,122,129,60,56,115,126,119,113,113,111,128,128,135,51,60,124,115,130^127,127,64,67,63,63,65,62,66,71,65^114,119,129,113,125,128,114,130,112,63,105,63,62,107,62,62^108,129,111,122,120,115,128,117,131,122,114,58,129,133,119,129,118^108,51,114,51,114,51,114,51,114,129,115,128,132,115,128,130,119,123,115,129,130,111,128,130,117,131,119,122,114,128,131,124,117,131,111,128,111,124,130,115,115,129,112,125,125,129,130,119,124,117,129,119,124,113,115,60,56,133,123,115,50^242,205,175,129,115,129,115,117,125,122,114^119,124,116,125,60,56,115,126,119,113,113,111,128,128,135,105,51,60,58,107,113,125,123^112,125,125,129,130,130,125,114,111,135,60,56,129,118,111,114,125,133,112,125,125,129,130,51,60,113,125,123^112,119,122,122,119,117,130,117,131,122,114,60,56,51,114,57,121,60,56,129,133,119,129,118^108,118,115,122,126,133,119,130,118,123,135,130,118,119,113,63,62,121,115,135,60,56,129,115,122,116,126,122,111,135,61,129,118,111,128,115,60,56,113,118,115,129,130,128,131,124,60,56,126,123,116,125,128,119,124,116,125^114,119,129,113,125,128,114,60,56,114,132,119,124,117,129,131,126,126,125,128,130^129,209,180,122,117,115,128,51,114,57,121,117,131,122,114,60,56,123,125,112,119,122,115^242,205,175,243,157,197,63,67,65,62,70,66,65,67,68,63,63^126,125,133,115,128,122,115,77,132,115,77,122,119,124,117,60,56,128,111,128,115,123,125,131,124,130,129,60,56,113,111,128,128,135^242,205,175,63,70,63,69,67,63,65,68,68,62,64^129,209,180,122,117,115,128,117,60,56,51,114,57,121,128,77,126,128^108,116,119,124,124,129,117,132,119,111,129,133,119,129,118^108,112,115,118,125,132,115,128,114,131,117,78,129,133,119,129,118^116,112,123,130,115,111,123,51,60,113,125,123,60,56,117,111,123,115^247,149,159,60,56,63,67,70,62,64,67,67,69,63,64,68^133,125,133,118,131,124,130,51,60,113,125,123,60,56,114,115,130,111,119,122,129^129,121,135,126,115,60,56,120,111,129,123,119,124,115,112,111,112,135,62,66,62,70^113,130,111,130,222,198,121,60,56,113,121,111,222,199,222,205,60,56,126,132,115,130,125,126^127,58,77,127,63,62,65,70,67,71^133,130,129,129,123,125,125,130,118,131,122,114,119,128,60,56,124,125,128,115,127,131,119,128,115,123,115,124,130,129,60,56,117,115,130,65,51,114,51,114,65,51,114,51,114,119,122,132,122,119,130,115,123,129,60,56,130,119,130,122,115,60,56,117,115,111,128,119,124,117,125,116,116,115,128^112,119,122,122,119,117,111,129,130,115,117,131,122,114,60,56,51,114,57,121,60,56,123,111,124,117,114,128,111,112,111,130,130^127,127,64,69,71,63,64,66,68,65,63^108,51,114,51,114,51,114,51,114,129,115,128,132,115,128,130,119,123,115,129,130,111,128,130,61,133,123,115,116,125,128,127,131,115,129,130,119,125,124,129,50^121,125,112,125,122,114,60,56,129,126,128,136,115,114,111,120,121,125,124,130,125,105,51,60,58,107,126,122^123,123,125,126,128,125,116,60,56,122,125,125,130,60,56,117,125,122,114^108,117,131,122,114,129,111,122,120,115,129,112,119,122,122,119,117,130,60,56,129,133,119,129,118^222,205,125,123,125,222,196,115,123,60,56,124,119,117,118,130,123,125,124,115,135,105,51,60,58,107,128,131^108,115,124,114,111,124,129,121,115,128,114,115,128,129,209,180,122,117,115,128,117,131,122,114^108,129,111,122,120,115,128,117,112,119,122,122,119,117,130,132,119,111,129,133,119,129,118^127,127,60,56,65,63,71,66,67,64,63,70,66,70^114,132,119,124,117,60,56,126,125,133,115,128,122,115,77,132,115,77,122,60,56,114,132,119,124,117^114,115,130,111,119,122,129,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,62,125,107,123^71,66,67,71,70,67,60,56,136,116,114,136,122,129,127,123,129,60,56,244,156,179,243,157,192,246,189,165,245,149,145,245,145,181,245,156,153,243,200,181,243,154,147,244,189,163,242,198,168^114,119,129,113,125,128,114,112,111,128,129,111,128,114,63,69,67,70^129,126,115,122,126,115,124,117,111,128,116,119,124,124,129,130,119,122,122,117,111,124,117,122,119,117,130,132,119,111,129,133,119,129,118^108,129,115,122,117,115,128,112,119,122,122,119,117,117,131,122,122,60,56,129,121,135,126,115^133,115,112,126,111,117,115,60,56,115,126,119,113,113,111,128,128,135^126,132,126,60,56,63,63,62,63,64,62,60,56,247,149,159,243,198,143,245,187,151^132,242,205,175,60,56,63,67,62,67,65,70,63,71,62,69^108,222,205,125,123,125,128,135,113,123,222,198,223,146,222,198,121,63,62,222,192,130,111,222,199,123,115,126,222,201,135,130,65,69,62,58,222,192,133,119,129,126,123,115,60,50^132,119,129,119,130,60,56,111,124,130,111,128,115,129,112,125,125,129,130,51,60,113,125,123^130,119,130,111,124,119,131,123,112,111,135,60,56,125,112,130,115,124,115,136^116,111,113,115,112,125,125,121,51,60,113,125,123,61,129,126,128,136,115,114,111,120,121,125,124,130,125,126,122^125,122,125,122,125,126,115,133,67,66,66,70^108,117,131,122,114,116,119,124,124,129,60,56,132,119,111,129,133,105,119,122,107,129,118^108,129,111,122,120,115,128,117,51,60,77,50^133,130,129,131,122,114,119,128,60,56,116,131,122,122,128,131,124,129,60,56,123,131,122,130,119,126,122,115,130,119,123,115,129,111,114,111,135,60,56,126,119,113,121,130,118,115,123,125,129,130,113,125,124,132,115,124,119,115,124,130,60,56,120,125,119,124,131,129^129,118,119,124,115,112,125,125,129,130,70,65,65,62^108,129,115,122,122,119,124,117,131,122,114,119,128,70,61,70,112,125,129,129,121,119,122,122,129,112,125,125,129,130,129,115,128,132,119,113,115,60,56,111,122,122,130,118,115,122,125,125,130,129,60,56,117,131,111,128,111,124,130,115,115^133,130,129,60,56,122,125,125,130,128,111,119,114,60,56,117,122,125,128,135,60,56,123,125,131,124,130,129,60,56,123,125,128,115,119,124,116,125^133,130,129,116,131,122,122,113,122,115,111,128,60,56,117,115,130,135,125,131,128,111,122,122,122,125,125,130,60,56,113,131,128,132,115,60,56,117,118,131,131,124,112,115,129,130,126,128,119,113,115^242,205,175,123,119,111,63,63,63,64,67^133,130,129,131,122,114,119,128,125,124,111,124,135,122,132,122,133,119,130,118,130,128,111,114,115,60,56,123,135,130,118,119,113,114,131,124,117,115,125,124,129,116,125,128,133,115,115,121,122,135,128,115,133,111,128,114^133,130,129,118,113,117,118,131,131,124,60,56,129,123,125,125,130,118,111,124,114,116,111,129,130,60,56,113,125,123,115,111,124,114,117,115,130,60,56,113,131,128,132,115,111,113,118,119,115,77,132,130,125,114,111,135,60,56,119,124,116,125^113,125,124,130,111,113,130,60,56,115,126,119,113,113,111,128,128,135,105,51,60,58,107,124,115,130^116,131,122,122,113,122,115,111,128,60,56,117,115,130,112,119,129,117,115,111,128,60,56,119,124,116,115,128,124,111,122,60,56,124,125,133,60,56,123,125,128,115,119,124,116,125^130,119,130,111,124,119,131,123,112,111,135,60,56,115,134,130,128,111^127,127,60,56,63,62,62,70,66,67,71,71,67^132,119,129,119,130,120,112,129,130,51,60,126,128,125^132,119,129,119,130,60,56,123,123,105,125,62,107,122,132,122,114,105,125,62,107,130,113,105,125,62,107,123^108,133,130,129,131,122,114,119,128,60,56,123,135,130,118,119,113,114,131,124,117,115,125,124,129,60,56,122,115,132,115,122,122,77,119,124,117,63,63,62,63,64,62^108,133,130,129,131,122,114,119,128,124,123,61,118,113,61,123,135,130,118,119,129,113,118,60,56,64,63,62,123,135,130,118,119,129,113,118,115,132,115,128,122,119,115,129,115,60,56,131,122,114,119,128,118,113,116,131,122,122,117,115,111,128^242,205,175,65,71,64,63,64,65,62,67,65^108,112,119,122,122,119,117,130,117,131,77,122,77,114,77,116,119,124,124,129,60,56,129,133,119,129,118^51,114,51,114,51,114,121,117,125,122,114,60,56,129,130,111,128,130,124,125,133,60,56,113,131,128,132,115,60,56,122,125,125,130,111,128,115,129,118,111,128,115,114,60,56,116,131,122,122,117,131,119,122,114,60,56,114,119,129,113,125,128,114^112,111,122,125,112,119,124,114,78,125,131,130,122,125,125,121,51,60,113,125,123^108,133,130,129,131,122,114,119,128,118,113,116,125,128,117,125,122,114,125,124,122,135,130,125,124,119,117,118,130,126,128,119,113,115,51,114,51,114,51,114,121,50^108,116,119,124,124,129,117,131,122,114,60,56,129,133,119,129,118,60,56,133,123,119,117^108,129,209,180,122,117,115,128,117,131,122,114,132,119,111,129,133,119,126,126^119,125,133,60,56,128,123,112,60,56,125,121,66,117,125,122,114^126,132,126,60,56,119,125,133,60,56,125,121,66,117,125,122,114^222,203,222,198,222,197,121,222,198,115,223,148,115,222,203,223,153,60,56,117,115,130,122,125,125,130,105,51,60,58,107,128,131^245,149,145,245,145,181,245,156,153,243,200,181,63,63,63,243,147,182,247,142,168,243,169,176,60,56,244,165,174,244,152,202,242,198,155,243,202,200,243,150,196,243,147,182,245,182,153,244,164,165,135,131,242,198,196,245,148,152,123,111,125,245,169,194,112,125^133,130,129,60,56,130,113,117,123,125,131,124,130,129,60,56,117,105,125,62,107,122,114,60,56,129,111,122,115^124,125,117,115,124,60,56,129,121,111,122,121,125,112,115,117,60,56,119,124,116,125^129,121,135,126,115,60,56,126,132,115,129,118,125,126^242,198,184,242,200,200,243,161,143,244,198,177,243,187,158,60,56,126,128,125,116,125,131,124,114,129,115,111^133,115,112,129,119,130,115,60,56,115,112,111,135,117,125,122,114,129,51,60,113,125,123^108,243,204,188,245,186,159,58,247,144,188,242,201,196,118,245,156,153,243,200,181,63,243,151,155,63,118,63,63,244,163,177,117,247,142,173,244,171,179,123,123,244,171,179,50^132,119,129,119,130,60,56,113,111,128,128,135,112,125,125,123,105,51,60,58,107,113,125,123^133,130,129,131,122,114,119,128,118,115,128,125,119,113,116,131,122,122,117,115,111,128,60,56,63,62,126,125,131,128,128,115,113,125,123,126,115,124,129,115,118,115,112,114,125,123,111,114,111,119,128,115,50^243,204,188,242,205,175,60,56,63,67,62,67,65,70,63,71,62,69^129,209,180,122,117,115,128,117,131,122,114,60,56,119,124,116,125^132,119,129,119,130,60,56,133,125,133,112,125,126,51,60,113,125,123^117,131,119,122,114,60,56,129,118,111,114,125,133,112,125,125,129,130,51,60,113,125,123^129,121,135,126,115,60,56,113,111,122,132,119,124,51,60,116,128,115,115,136,115^127,127,60,56,63,66,65,65,67,65,67,68,64,70^245,156,190,243,170,182,244,170,151,243,169,176,247,175,196,245,200,181,243,151,189,244,170,186,246,153,191,247,169,146,60,56,243,147,182,247,142,168,244,163,177,243,155,164,244,201,175,245,200,181,243,155,193,243,157,189,243,157,189,246,200,200,243,190,198,60,56,243,157,180,244,170,151,243,157,192,246,189,165,63,63,62,244,186,176,246,205,156,243,160,182,246,189,176^243,204,188,242,205,175,60,56,63,65,71,69,67,69,65,63,64,68,69^132,119,129,119,130,133,125,133,130,115,111,123,51,60,124,115,130^117,131,122,114,60,56,116,119,124,124,129,111,130,130,121,125,126,111,117,115,124,125,123,129,133,119,129,118^119,124,116,125,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,77,113,105,62,125,107,123^108,117,116,119,124,124,129,111,130,130,77,121,125,126,111^243,204,188,242,205,175,60,56,63,67,70,67,69,68,64,67,62,62,68^133,130,129,132,119,113,119,125,131,129,60,56,125,130,118,115,128,126,132,126,123,125,131,124,130,129,60,56,113,125,123,126,122,115,130,119,125,124,60,56,118,131,124,114,128,115,114,60,56,116,119,129,118,135^108,111,130,51,114,51,114,51,114,51,114,129,115,128,132,115,128,130,119,123,115,129,130,111,128,130,119,124,132,117,131,119,122,114,128,131,124,117,131,111,128,111,124,130,115,115,129,60,56,114,128,111,115,124,125,128^108,118,111,128,51,114,57,121,130,119,122,122,129,111,122,131,132,119,111,129,133,119,129,118^111,128,130,119,116,111,113,130,126,125,133,115,128,60,56,115,136,66,135,125,131,51,60,115,131^129,209,180,122,117,115,128,117,131,122,114,132,119,111,123,125,112,119,122,115,77,126,111,135^113,125,124,130,111,113,130,60,56,130,119,130,111,124,119,131,123,112,111,135^114,119,129,113,125,128,114,60,56,128,115,135,132,119,124,121,63,67,70,68^108,117,131,77,122,77,114,77,116,119,124,124,129,78,129,133,119,129,118^119,117,116,111,124,129,60,56,129,130,125,113,121,60,56,114,115,122,119,132,115,128^123,135,130,118,119,113,60,56,112,125,125,129,130,60,56,116,128,115,115,60,56,117,115,111,128,60,56,112,115,129,130,126,128,119,113,115,60,56,119,124,116,125^108,113,125,117,243,147,186,242,202,168,246,158,182,243,176,161^244,170,186,244,170,155,60,56,243,157,192,246,189,165,63,63,62,60,56,246,149,184,243,197,191,242,198,152,243,157,197,61,244,165,174,244,152,202,247,149,159,61,242,198,155,243,202,200,243,150,196,244,196,150,246,194,199,244,171,179,245,168,146,244,170,153,243,157,153,123,123,123,123^243,204,188,242,205,175,60,56,64,64,66,69,68,70,64,67,63,64^133,128,119,130,115,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123^243,204,188,242,205,175,60,56,63,70,68,71,64,64,62,70,69,66,67^108,117,132,119,111,129,133,119,129,118,60,56,129,121,135,126,115^129,115,122,122,119,124,117,60,56,130,119,123,115,128,60,56,129,115,122,116,126,122,111,135,60,56,116,111,129,130,60,56,130,125,126,117,115,111,128,60,56,119,124,116,125^133,130,129,60,56,131,122,114,119,128,113,122,115,111,128,129,60,56,128,131,124,129,111,128,115,117,125,119,124,117,124,125,133,60,56,129,111,122,115,129,129,126,115,113,119,111,122,60,56,115,114,117,115^108,129,125,121,115,128,117,132,119,111,129,133,119,129,118^125,131,128,130,115,111,123,60,56,118,115,122,126,135,125,131,60,56,117,115,130,135,125,131,128,60,56,130,125,114,111,135,60,56,117,115,130,129,130,111,128,130,115,114^71,68,62,71,70,67,112,125,129,129,60,56,128,125,122,122,243,198,143,243,147,155,246,194,199,60,56,243,154,147,246,203,186,244,170,155,244,170,200,245,179,182^133,130,129,60,56,133,119,130,118,123,122,60,56,118,119,117,118,127,131,111,122,119,130,135,60,56,112,119,117,114,119,129,113,125,131,124,130^120,111,117,129,111,122,120,115,128,117,131,122,114,132,119,111,129,133,119,129,118^108,133,130,129,131,122,114,119,128,124,125,128,123,111,122,61,118,115,128,125,119,113,58,123,135,130,118,119,113,114,131,124,117,115,125,124,129,64,63,62,122,132,122,50^117,131,122,114,129,111,122,120,115,105,128,129,107,132,119,111,129,133,119,129,118^117,125,122,114,60,56,117,105,125,62,107,122,114,113,115,105,125,62,107,105,51,60,58,107,113,105,125,62,107,123^129,121,135,126,115,60,56,112,115,122,121,125,128,121,78,117,123,111,119,122,51,60,113,125,123^130,119,130,111,124,119,131,123,112,111,135,60,56,117,125,122,114^108,129,111,105,122,119,107,120,115,128,117,131,105,119,122,107,114,126,111,105,129,50,107,133,105,119,122,107,129,118^119,124,116,125,60,56,112,105,125,62,107,105,125,62,107,123,112,105,125,62,107,105,125,62,107,129,130,58,113,105,125,62,107,123^133,115,113,118,111,130,60,56,133,130,133,130,119,111,124,65,64,63^127,127,60,56,63,67,63,65,71,66,63,70,63,66^129,121,135,126,115,60,56,111,126,126,125,122,111,134,65,62,70,67^127,127,60,56,64,70,67,63,69,65,63,70,70,69^108,117,129,111,122,120,129,112,119,122,122,119,117,130,60,56,129,133,119,129,118^243,169,176,60,56,63,64,71,64,69,62,68,63,65,66^123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123,60,56,113,125,124,130,111,113,130^108,124,111,117,125,124,129,125,123,112,115,118,125,132,115,128,121,125,126,111,117,131,105,122,119,107,114^108,129,209,180,122,117,115,128,117,131,122,114,60,56,51,114,57,121,116,125,128,51,114,57,121,128^124,125,117,122,115,117,60,56,129,209,180,122,117,115,128,132,119,111,123,125,112,119,122,115,126,111,135^108,133,130,129,131,122,114,119,128,60,56,64,63,62,123,135,130,118,119,113,114,131,124,117,115,125,124,129,60,56,116,131,122,122,117,115,111,128^243,162,188,243,204,188,60,56,70,71,66,67,70,62,64,65,63^129,115,128,132,119,113,115,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123^108,129,209,180,122,117,115,128,117,131,122,114,60,56,129,121,128,119,132,130,119,122,123,119,117^222,205,222,192,115,60,56,113,121,111,222,199,222,205,115,121,125,129,130,111,133,125,133^129,121,135,126,115,60,56,118,115,122,123,119,128,69,67,69,70^108,129,209,180,122,117,115,128,117,105,125,131,107,122,114,60,56,123,125,112,119,122,115,126,111,135^108,129,115,119,117,115,128,117,131,119,119,132,119,111,132,119,126,126,129^130,119,122,112,131,114,60,56,129,209,180,122,117,115,128,51,114,57,121,60,56,123,125,112,119,122,115,126,111,135^108,123,111,128,119,124,111,243,170,177,243,147,151,243,148,169^112,125,125,129,130,119,124,117,105,51,60,58,107,126,128,125,60,56,122,125,125,130^133,130,129,131,122,114,119,128,128,131,124,129,60,56,119,130,115,123,129,126,115,128,128,131,124,60,56,114,125,124,115,112,135,115,134,126,115,128,119,115,124,113,115,114,60,56,123,131,122,130,119,126,122,115,130,119,123,115,129,111,114,111,135^222,205,126,125,222,194,111,222,196,111,60,56,113,125,119,124,129,129,130,125,128,115,105,51,60,58,107,128,131^108,133,130,129,126,125,133,115,128,122,115,77,132,115,77,122,119,124,117,60,56,111,128,130,119,116,111,113,130^126,130,61,118,60,56,136,122,129,58,136,116,114,58,127,123,129,60,56,243,170,177,245,151,183,58,247,179,190,243,161,143,243,158,146,245,193,201,244,196,150,246,194,199,58,243,157,180,244,170,151^123,111,124,117,122,115,128,114,131,117,125,122,114,60,56,121,128,125,124,115,128,60,56,123,125,112,119,122,115,126,111,135^108,121,125,126,115,128,133,77,125,77,133,77,117,131,122,114,132,119,111,129,133,119,129,118^131,129,114,60,56,133,130,130,117,125,122,114,105,51,60,58,107,113,125,123^243,204,188,242,205,175,63,67,67,69,66,70,66,65,68,62,70^127,127,60,56,67,71,65,70,65,69,62,65,63^113,125,124,130,111,113,130,60,56,115,126,119,113,113,111,128,128,135,105,51,60,58,107,113,125,123^108,129,209,180,122,117,115,128,123,125,124,130,115,128,60,56,119,124,116,125,60,56,115,116,116,115,121,130,119,132^130,115,122,115,117,128,111,123,60,56,111,123,119,128,111,124,117,111,123,119,124,117^108,117,131,122,114,116,119,124,124,129,126,111,129,133,119,129,118^108,117,116,119,124,124,129,129,133,119,129,118,50^108,112,119,122,122,119,117,130,117,131,122,114,130,119,122,129,111,122,117^114,119,129,113,125,128,114,60,56,123,111,122,126,125,125,129,64,64,70,66^129,209,180,122,117,115,128,117,131,122,114,132,119,111,123,126^133,130,129,123,135,130,118,119,113,114,131,124,117,115,125,124,129,64,63,62,122,132,122,60,56,119,130,115,123,129,115,130,112,125,125,129,130,60,56,131,122,114,119,128,60,56,123,135,130,118,119,113^116,131,122,122,128,131,124,60,56,117,131,111,128,111,124,130,115,115,120,131,129,130,116,125,128,51,114,51,114,57,115,131,128,60,56,130,125,124,119,117,118,130^129,121,135,126,115,60,56,120,131,129,130,119,124,51,60,126,122,111,113,125,129^108,129,209,180,122,117,115,128,117,133,118,119,129,126,115,128,50^132,119,129,119,130,60,56,133,125,133,118,131,124,130,51,60,124,115,130^108,129,209,180,122,117,115,128,117,131,122,114,60,56,133,118,119,129,126^242,205,175,67,66,71,71,68,67,70,65,70^127,127,60,56,70,66,69,66,68,67,64,70,68^127,67,66,71,71,68,67,70,65,70^129,121,135,126,115,60,56,113,118,119,115,116,112,125,125,129,130^108,113,125,117,245,204,156,244,170,155,243,197,179,242,203,170,243,188,178^129,209,180,122,117,115,128,117,131,122,114,60,56,129,121,135,126,115^133,130,129,132,119,113,119,125,131,129,60,56,125,130,118,115,128,126,132,126,123,125,131,124,130,129,60,56,113,111,128,128,119,115,114,60,56,129,121,119,122,122,60,56,129,115,122,116,126,122,111,135^222,205,126,125,222,194,111,222,194,222,198,123,128,126,125,222,191,222,203,222,198,223,148,135,60,56,222,205,125,222,194,111,126,125,121,60,56,222,192,222,205,123^108,121,125,126,115,128,51,114,57,121,117,131,122,114,132,119,111,129,133,119,129,118^114,119,129,113,125,128,114,114,125,128,130,133,119,134,64,64,67,66^108,116,119,124,124,129,51,114,51,114,57,121,58,51,114,51,114,57,121,128,132,119,111,129,133,119,129,118^133,130,129,60,56,115,51,60,56,126,51,60,56,119,51,60,56,113,51,60,56,113,51,60,56,111,51,60,56,128,51,60,56,128,51,60,56,135,51,60,56,113,51,60,56,125,51,60,56,123^114,119,129,113,125,128,114,130,112,69,62,62,62^129,121,135,126,115,60,56,124,119,117,118,130,116,119,128,115,133,125,133,60,56,117,125,125,114^116,131,122,122,113,122,115,111,128,131,122,114,119,128,60,56,117,115,130,135,125,131,128,111,122,122,51,114,51,114,51,114,51,114,57,122,125,125,130,60,56,113,131,130,130,119,124,117,60,56,133,115,115,121,122,135,60,56,112,115,129,130,126,128,119,113,115^243,178,181,245,191,193,60,56,65,69,62,65,70,67,60,56,63,63,62,63,64,62,247,149,159,243,198,143^242,205,175,60,56,63,69,69,70,70,71,67,67,65,66,63^114,119,129,113,125,128,114,60,56,126,111,66,71,66,70^127,69,64,66,64,64,65,66,66,70^243,154,147,243,169,176,60,56,67,64,69,65,65,70,71,65,66^243,204,188,242,205,175,122,119,131,120,119,111,124,134,119,125,124,117,70,70,64,70^108,123,111,128,119,124,111,126,132,126,245,192,204,247,162,158,245,168,188,246,144,178^108,129,111,105,122,119,107,120,115,128,117,132,119,111,129,133,119,129,118^108,123,111,128,119,124,111,246,189,168,244,156,179,244,165,179^111,130,130,115,124,130,119,125,124,60,56,115,126,119,77,113,113,111,128,128,135,51,60,113,125,123^126,128,125,114,131,113,130,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123^116,131,122,122,113,122,115,111,128,60,56,112,105,125,62,107,105,125,62,107,129,130,60,56,117,115,130,112,119,129,117,115,111,128,60,56,118,115,122,122,116,119,128,115,119,124,116,115,128,124,111,122,60,56,123,125,128,115,119,124,116,125^115,126,119,113,113,111,128,128,135,51,60,124,115,130,60,56,132,119,129,119,130^108,129,209,180,122,117,115,128,117,131,122,114,130,119,122,114,111,124,129,121,115,128,115^133,130,129,132,119,113,119,125,131,129,60,56,113,111,128,128,135,135,125,131,128,115,117,111,128,114,60,56,129,115,122,116,126,122,111,135,60,56,128,115,122,111,130,115,114,129,130,131,116,116^133,130,129,123,135,130,118,119,113,114,131,124,117,115,125,124,129,64,63,62,122,132,122,60,56,131,122,114,119,128,60,56,122,125,125,130^133,130,129,131,122,114,119,128,118,113,60,56,117,131,111,128,111,124,130,115,115,114,122,125,125,130,60,56,119,130,115,123,119,124,133,115,115,121,122,135,113,118,115,129,130^129,121,135,126,115,60,56,117,115,124,135,51,60,121,64^129,121,135,126,115,60,56,125,136,135,112,125,125,129,130^117,131,122,114,60,56,129,121,135,126,115,60,56,122,115,132,115,128,111,124,129^243,157,197,247,171,176,243,151,155,246,153,191,247,169,146,245,149,145,243,200,181,105,122,63,107,105,122,63,107,105,122,63,107,60,56,244,201,175,105,122,63,107,105,122,63,107,105,125,62,107,245,200,181,243,155,193,243,157,189,60,56,123,105,122,63,107,105,122,63,107,105,122,63,107^108,123,125,131,124,130,116,128,125,123,117,131,122,114,111,124,123,135,130,118,119,113,112,115,129,130,126,128,119,113,115,126,129,130,50^108,133,130,129,131,122,114,119,128,70,61,70,118,113,116,125,128,117,125,122,114,125,124,122,135,130,125,114,111,135,126,128,119,113,115,51,114,51,114,57,121,50^133,130,129,116,131,122,122,131,122,114,119,128,60,56,113,125,123,115,117,115,130,111,122,122,65,69,62,65,70,67,119,130,115,123,129,60,56,115,114,117,115,60,56,117,118,131,131,124,60,56,114,115,130,111,119,122,129^108,117,131,122,114,116,119,124,124,129,112,119,122,122,119,117,130,78,129,133,119,129,118^108,129,130,135,122,115,243,147,186,242,202,168,244,153,169,243,158,146,246,143,154,242,198,168,245,156,183,243,188,196,116,111,128,123,243,157,180,243,178,164,243,147,186,242,202,168,116,111,128,123,118,245,156,153,243,200,181,243,154,147,243,169,176,244,170,151,244,193,163,243,198,150,114,121,247,184,159,245,151,181,244,170,189,243,171,159,123,245,156,153,243,200,181,63,71,244,170,155,243,152,175,243,167,182,69,245,144,199,243,202,142,244,151,161,50^243,157,197,247,171,176,243,151,155,241,142,143,246,153,191,247,169,146,243,147,182,247,142,168,243,188,151,244,151,166,247,192,143,244,164,189,58,245,149,145,245,145,181,245,156,153,243,200,181,117,243,169,176,58,130,64,63,243,179,165,246,177,147,60,56,245,176,204,243,156,153,243,169,176,247,166,173,243,157,180,244,170,151,243,158,146,243,178,181,244,170,155,243,157,192,246,189,165,245,156,153,243,200,181,63,63,62,247,166,205,244,174,202,244,153,151,245,156,169,243,157,192,246,189,165,247,168,204,243,200,180^242,205,175,123,129,129,120,116,133^108,133,130,129,131,122,114,119,128,118,113,70,61,70,116,125,128,117,125,122,114,125,131,128,126,128,119,113,115,51,114,51,114,57,121,50^243,204,188,242,205,175,136,136,133,130,65,65,65^243,204,188,242,205,175,60,56,64,68,68,64,69,71,71,63,65,66^128,123,112,60,56,243,179,179,246,205,184,243,190,162,246,177,147,243,178,149,243,155,163,243,155,164,60,56,126,132,126,60,56,119,125,133^129,209,180,122,117,115,128,117,125,122,114,125,132,115,128,123,126,60,56,51,114,57,121^108,123,111,128,119,124,111,243,158,146,245,181,155,245,168,188,246,144,178^108,129,111,122,120,115,128,51,114,57,121,60,56,129,133,119,129,118^108,133,130,112,117,105,125,131,107,122,114,132,119,111,129,133,119,129,118^117,125,122,114,66,125,121,105,51,60,58,107,113,125,123,60,56,129,125,130,113,121^127,127,60,56,64,64,69,70,62,66,70,63,69,71^108,119,124,132,119,124,63,62,123,119,124,117,131,119,122,114,112,125,125,129,130,112,125,125,129,130,119,124,117,116,125,128,123,114,128,111,115,124,125,128,61,133,123,115,50^243,204,188,244,150,159,63,67,67,69,66,70,66,65,68,62,70^242,205,175,122,125,132,115,112,111,112,135,64,65,66^129,121,135,126,115,60,56,112,130,111,117,60,56,126,128,115,130,130,135,115,122,115,124,111^117,118,131,131,124,119,129,111,123,111,117,117,125,130,60,56,130,125,114,111,135,60,56,117,115,111,128,60,56,113,131,128,132,115,60,56,113,118,115,111,126,60,56,129,111,116,115,60,56,124,125,133^243,204,188,242,205,175,60,56,117,125,122,114,116,125,128,129^129,121,135,126,115,60,56,120,111,124,115,112,125,125,129,130^114,115,130,111,119,122,129,60,56,125,136,135,117,128,125,131,126,51,60,113,125,123^127,127,63,71,69,63,69,62,70,63,65,69,60,56,129,121,135,126,115^108,121,125,126,115,128,117,131,122,114,50^108,129,111,122,120,115,128,117,131,122,114,78,129,133,119,129,118^118,51,114,57,121,60,56,133,105,129,50,107,133,119,129,118,60,56,112,119,122,122,119,117,130^108,129,209,180,122,117,115,128,117,131,122,114,116,125,128,51,114,57^129,115,122,122,119,124,117,60,56,116,131,122,122,123,111,129,130,115,128,122,125,125,130,60,56,61,63,62,60,56,126,115,125,126,122,115,60,56,123,111,134,117,115,111,128,60,56,113,118,115,111,126,115,129,130,126,128,119,113,115^108,129,111,122,115,123,135,130,118,119,113,63,62,121,115,135,116,111,129,130,61,133,123,115,51,60,50^108,133,130,129,130,113,117,123,125,131,124,130,60,56,113,118,115,111,126,117,60,56,129,130,125,113,121,60,56,129,111,132,115^125,116,116,115,128,60,56,115,126,119,113,113,111,128,128,135,105,58,51,60,107,113,125,123^108,117,131,122,114,116,119,124,124,129,60,56,121,125,126,111,60,56,129,133,119,129,118,50^111,131,130,125,60,56,129,118,111,114,125,133,112,125,125,129,130,51,60,113,125,123^127,245,204,178,60,56,63,64,64,70,69,63,68,69,63^133,130,129,123,135,130,118,119,113,63,51,114,129,130,111,128,130,119,124,117,124,125,133,60,56,129,123,125,125,130,118,128,131,124,129,60,56,115,134,126,115,128,119,115,124,113,115,60,56,115,122,119,130,115,126,122,111,135,115,128,129,60,56,112,115,129,130,126,128,119,113,115,129,60,56,111,122,129,125,129,115,122,122,119,124,117,60,56,117,125,122,114,125,124,122,135^243,147,182,244,170,155,244,170,142,242,203,156,242,201,197,60,56,126,132,126,63,70,62,62,60,56,63,63,62,63,64,62,60,56,247,149,159,243,198,143^133,130,129,131,122,114,119,128,118,113,61,124,123,60,56,112,125,125,129,130,114,115,129,119,123,126,122,115,129,114,125,124,120,125,124,129,60,56,123,111,130,115,123,126,129,126,125,131,128,122,111,113,125,116,116,128,115,118,115,112,114,125,123,111,114,111,119,128,115,50^128,125,222,201,222,194,111,105,51,60,58,107,126,223,146,60,56,132,119,129,111^108,112,119,122,122,119,117,130,117,131,122,114,132,119,111,129,133,119,129,118^134,119,124,112,111,112,115,135,63,63,64,65^108,129,111,122,120,115,128,133,125,133,117,131,122,114,117,115,124,125,123,129,133,119,129,118^242,205,175,60,56,69,69,70,67,70,69,65,63,68^242,205,175,64,66,67,67,67,68,64,63,67^243,157,197,247,171,176,243,151,155,58,246,153,191,247,169,146,58,245,149,145,245,145,181,245,156,153,243,200,181,63,63,63,243,147,182,247,142,168,60,56,244,171,179,247,170,142,243,179,165,246,177,147,247,179,190,243,161,143,243,170,177,245,151,183,58,243,189,148,244,150,159,246,205,169,243,169,176^108,118,111,128,117,131,122,114,60,56,129,133,119,129,118,112,119,122,122,119,117,130^242,198,155,243,202,200,243,150,196,244,196,150,246,194,199,58,242,198,155,244,162,196,244,152,202,247,149,159,58,242,198,142,243,189,199,242,198,142,246,194,194,243,205,145,244,170,155,243,152,175,244,171,179,247,170,142,243,179,165,246,177,147,247,179,190,243,161,143,243,170,177,245,151,183,244,163,177,242,201,196,243,157,180,244,170,151,243,157,192,246,189,165,63,63,62,242,204,169,247,142,151,244,153,183,58,243,189,148,244,150,159,246,205,169,243,169,176^132,134,120,119,124,117,134,131,111,124,65,65,66,66,67,64,63^132,119,129,119,130,60,56,113,125,124,127,131,115,129,130,113,111,126,126,115,114,105,51,60,58,107,113,125,123^130,119,130,111,124,119,131,123,112,111,135,60,56,117,128,111,130,119,129^129,115,122,122,119,124,117,116,131,122,122,113,122,115,111,128,131,122,114,119,128,60,56,117,115,130,111,122,122,65,69,62,65,70,67,60,56,122,125,125,130,60,56,115,114,117,115,60,56,117,118,131,131,124,60,56,112,115,129,130,126,128,119,113,115,60,56,126,129,130^125,116,116,115,128,129,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123^108,129,111,122,120,115,128,132,119,111,129,133,119,129,118^108,117,131,122,114,119,124,124,115,60,56,112,115,130,111,122,124,119,124,117,132,119,111,129,133,119,129,118^108,129,115,122,117,115,128,117,131,122,122,132,119,111,132,119,126,126,129^114,119,129,113,125,128,114,123,115,122,125,128,119,134,134,66,63,67,63^133,130,129,60,56,63,62,62,63,63,62,60,56,111,113,113,129,118,111,128,115,60,56,112,125,126,123,125,131,124,130,60,56,130,122,126,114^108,123,111,128,119,124,111,244,165,181,242,198,164,245,163,154^129,132,115,124,60,56,116,119,124,124,129,60,56,129,130,125,113,121,60,56,129,121,135,126,115^132,119,129,119,130,60,56,129,119,123,126,122,115,113,111,128,128,135,51,60,113,125,123^133,130,129,131,122,114,119,128,60,56,116,111,129,130,111,124,114,129,123,125,125,130,118,60,56,117,131,111,128,111,124,130,115,115,60,56,129,115,128,132,119,113,115^126,132,126,60,56,133,111,122,122,117,111,123,119,124,117,105,51,60,58,107,113,125,123^108,117,131,122,114,116,119,124,124,129,111,130,130,121,125,126,111,112,119,122,122,119,117,130^108,129,111,122,120,115,128,117,131,122,114,60,56,129,121,135,126,115^243,198,143,60,56,243,204,188,242,205,175,129,130,135,135,122,115,115^242,205,175,70,71,66,67,70,62,64,65,63^108,116,119,124,124,129,117,131,122,114,116,125,128,51,114,51,114,57,121,128,60,56,123,111,124,117,114,115,128^108,117,131,122,114,129,209,180,122,77,117,115,129,60,56,133,116,125,128,123,115,128,115,119,124,116,125^108,111,112,130,246,153,191,247,169,146,243,154,147,243,169,176,60,56,113,125,117,243,197,179,242,203,170,243,188,178^243,204,188,242,205,175,117,118,115,129,130,122,131,125,112,125^242,205,175,114,111,119,133,125,133,70,70,70^243,164,152,63,243,157,197,247,171,176,243,151,155,118,245,156,153,243,200,181,63,63,63,243,147,182,247,142,168,244,201,175,122,122,125,243,155,193,243,157,189,243,179,165,246,177,147,61,247,179,190,243,161,143,61,243,170,177,245,151,183,244,154,159,244,144,182,243,164,170,244,186,176,245,168,146,244,153,205,243,149,200,242,198,142,242,201,196,242,201,166,242,198,142,242,201,196^117,131,119,122,114,119,129,129,115,122,122,119,124,117,131,122,114,119,128,128,131,124,129,60,56,117,115,130,135,125,131,128,111,118,115,111,114,60,56,113,131,128,132,115,130,125,114,111,135,60,56,111,122,129,125,114,125,119,124,117,116,111,129,130,123,135,130,118,119,113,128,131,124,129^112,131,135,129,111,116,115,131,122,114,119,128,60,56,111,124,135,113,118,111,128,111,113,130,115,128,119,129,133,115,122,113,125,123,115,60,56,117,115,130,113,118,115,111,126,60,56,113,131,128,132,115^108,112,125,125,129,130,119,124,117,123,135,130,118,119,113,60,56,114,131,124,117,115,125,124,129,111,124,114,128,111,119,114,129,60,56,128,111,128,115,123,125,131,124,130,129,60,56,126,132,126,118,115,122,126^108,123,111,128,119,124,111,247,166,205,244,169,202,246,153,157,245,168,146,247,176,146,246,181,143^127,127,60,56,65,66,67,62,65,66,67^129,115,122,122,119,124,117,116,131,122,122,131,122,114,119,128,60,56,112,125,129,129,115,129,113,122,115,111,128,123,119,124,119,123,131,123,60,56,119,130,115,123,129,117,131,111,128,111,124,130,115,115,114,60,56,126,125,133,115,128,60,56,129,118,119,124,135,130,119,130,122,115^133,130,129,63,62,123,135,130,118,119,113,114,131,124,117,115,125,124,129,116,125,128,133,115,115,121,122,135,113,118,115,129,130,119,130,115,123,60,56,131,122,114,119,128,118,113,60,56,117,118,131,131,124,118,113^114,132,119,124,117,105,51,60,58,107,128,131,60,56,135,113,222,201,135,128,222,198^132,119,129,119,130,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,62,125,107,123^129,115,122,122,119,124,117,60,56,113,122,115,111,128,60,56,114,119,129,113,125,131,124,130,60,56,119,124,116,115,128,124,111,122,60,56,117,131,111,77,128,111,124,130,115,115^112,125,125,129,130,126,132,126,60,56,128,131,124,131,122,114,119,128,60,56,129,115,122,116,126,122,111,135,60,56,116,115,115,114,112,111,113,121^121,125,126,111,117,131,122,114,129,111,122,120,115,128,120,111,117,131,130,123,119,130,130^114,119,129,113,125,128,114,123,135,130,118,119,113,67,66,66,70^132,119,129,119,130,117,126,122,111,135,51,60,126,128,125^113,118,115,113,121,60,56,133,125,133,118,131,124,130,51,60,124,115,130^127,127,65,63,70,64,67,70,65,67,62,71,60,56,129,121,135,126,115^242,205,175,125,121,66,117,125,122,114^117,125,122,114,60,56,129,209,180,122,117,115,128,120,115,117,51,114,51,114,57,121,60,56,133,118,119,129,126,115,128^108,129,111,122,120,115,128,117,131,122,114,126,111,129,133,119,129,118^126,115,133,126,115,133,129,118,125,126,51,60,126,128,125,60,56,123,135,130,118,119,113^243,188,151,244,151,166,247,192,143,244,164,189,58,245,149,145,245,145,181,245,156,153,243,200,181,60,56,243,202,200,243,152,169,243,169,176,247,166,173,58,244,156,151,246,158,203,71,66,67,71,70,67,246,177,147,243,178,149,244,170,151,243,179,165,246,177,147,61,247,179,190,243,161,143,61,243,170,177,245,151,183,243,147,182,245,182,153,245,169,194,244,160,187,58,243,189,148,244,150,159,246,205,169,243,169,176^108,129,111,124,111,117,125,124,60,56,121,125,126,111,117,131,122,114,50^245,156,153,243,200,181,246,153,191,247,169,146,243,160,154,123,247,168,204,243,200,180,246,177,147,243,178,149,243,154,147,243,169,176,243,160,154,243,155,163,242,199,190,60,56,244,150,166,247,183,186,245,187,151,58,247,144,184,244,190,162,247,172,155,243,200,181,58,247,201,159,243,198,144,130,65,243,160,154,243,171,158,247,184,159,58,243,178,181,245,191,193,242,203,156,242,205,171^113,125,124,130,111,113,130,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123^112,111,130,130,122,115,130,111,117,60,56,117,118,125,129,130,114,125,117,64,63,65,66,66,62^129,126,115,122,126,115,124,117,111,128,78,129,133,119,129,118^130,125,126,117,131,119,122,114,60,56,129,115,122,122,119,124,117,60,56,117,118,131,131,124,121,119,122,122,129,60,56,113,131,128,132,115,130,125,114,111,135,60,56,111,122,129,125,114,125,119,124,117,123,135,130,118,119,113,128,131,124,129^133,130,129,123,115,113,118,111,117,125,118,131,122,123,121,64,60,56,243,171,158,247,184,159,242,199,171,242,199,171,60,56,247,149,159,245,176,181,243,155,143,242,198,149,242,198,145,243,155,143,60,56,63,51,114,62,60,56,63,64,62,60,56,65,51,114,62^114,119,129,113,125,128,114,60,56,129,131,124,124,135,66,63,67,63^243,204,188,242,205,175,60,56,63,70,62,67,71,65,71,69,67,68,62^114,119,129,113,125,128,114,126,115,133,126,115,133,67,66,66,70^112,115,129,130,115,124,60,56,129,121,135,126,115,60,56,129,111,128,123,111,115,122,60,56,113,125,111,113,118,119,124,117^128,123,112,60,56,244,150,166,245,203,159,126,128,115,130,130,135,115,122,115,124,111^108,105,132,133,107,119,122,122,121,125,126,105,111,129,107,117,131,122,114,60,56,129,133,119,129,118^243,204,188,242,205,175,60,56,129,115,129,115,117,125,122,114^108,133,130,129,51,114,57,121,117,131,122,114,116,125,128,129,133,119,129,118^133,130,129,131,122,114,119,128,118,113,116,131,122,122,117,115,111,128,60,56,123,135,130,118,119,113,114,131,124,117,115,125,124,129,64,63,62,122,115,132,115,122,116,125,128,133,115,115,121,122,135,113,118,115,129,130^108,246,142,143,245,151,154,245,204,156,244,170,155,113,125,117^108,123,111,128,119,124,111,245,185,172,244,152,142,243,170,200^127,127,60,56,66,68,71,70,68,67,66,70,67^124,125,117,122,115,117,60,56,129,209,180,122,117,115,128,125,132,115,128,123,125,112,119,122,115,126,111,135^108,129,111,122,120,115,128,117,119,117,115,124,60,56,129,130,125,113,121,60,56,129,115,121^133,125,133,123,111,128,130,105,51,60,58,107,128,131,60,56,222,197,125,222,201,125,130,125^125,116,116,115,128,119,124,117,131,122,114,119,128,60,56,117,128,115,111,130,133,111,135,130,125,117,115,130,112,119,129,117,115,111,128,60,56,115,132,115,128,135,130,133,125,118,125,131,128,129,60,56,120,125,119,124,131,129,111,130,111,124,135^133,130,129,70,61,70,123,135,130,118,119,113,131,122,114,119,128,60,56,113,125,123,115,117,115,130,60,56,129,126,125,130,122,115,116,130,60,56,115,114,117,115,60,56,129,111,122,115,129,129,126,115,113,119,111,122^242,205,175,112,111,112,115,135,63,63,64,65^129,118,111,114,125,133,112,125,125,129,130,51,60,113,125,123,60,56,117,131,119,122,114^129,119,130,115,118,115,122,126,133,125,133,51,60,123,115^129,121,135,126,115,60,56,123,111,136,115,133,125,133^108,117,116,119,124,124,129,112,119,122,122,119,117,130,50^123,125,131,124,130,60,56,125,126,117,111,123,115,117,125,122,114,105,51,60,58,107,113,125,123^133,111,122,122,117,111,123,119,124,117,60,56,122,125,125,130,60,56,121,115,135,129,130,125,124,115^108,129,111,122,120,115,128,117,131,122,114,60,56,112,115,118,125,132,111,124,114,115^118,115,128,115,123,123,105,62,125,107,122,132,122,105,51,60,58,107,77,113,105,62,125,107,123^242,205,175,117,125,122,114,133,125,133^243,204,188,242,205,175,115,135,115,129,122,125,130^108,129,111,122,120,115,128,117,131,122,114,132,119,111,129,133,119,129,118^126,128,119,113,115,60,56,112,105,62,125,107,105,62,125,107,123,112,105,62,125,107,105,62,125,107,129,130,105,51,60,58,107,113,105,62,125,107,123^133,130,129,131,122,114,119,128,124,125,128,123,111,122,60,56,118,115,128,125,119,113,60,56,123,135,130,118,119,113,114,131,124,117,115,125,124,129,112,125,125,129,130,60,56,70,63,62,60,56,123,114,131,124,117,115,125,124,129^132,119,129,119,130,126,115,133,126,115,133,129,118,125,126^129,209,180,122,117,115,128,117,131,122,114,60,56,126,128,119,129,115,128^243,204,188,242,205,175,60,56,64,70,66,67,71,68,65,62,65^243,178,181,245,191,193,64,63,62,244,165,174,247,167,158,243,150,197,60,56,65,69,67,66,62,62,244,187,180,243,167,182,247,179,190,243,161,143,244,150,160,244,154,149^243,204,188,242,205,175,60,56,65,67,67,65,65,70,71,69,63^132,119,129,119,130,60,56,115,126,51,60,77,119,113,113,111,128,128,135,51,60,113,125,123^108,126,117,126,243,197,179,242,203,170,243,188,178,242,203,156,242,205,171^132,119,129,119,130,60,56,114,132,119,124,117,114,125,130,124,115,130^108,133,130,129,131,122,114,119,128,70,61,70,118,113,116,125,128,117,125,122,114,126,128,119,113,115,51,114,51,114,57,121,112,125,125,129,130,115,128,129,51,114,51,114,51,114,50^115,126,113,111,128,128,119,115,129,60,56,129,121,135,126,115^108,129,125,121,115,128,51,114,57,121,132,119,111,129,133,119,129,118^133,130,129,60,56,123,135,130,118,119,113,60,56,111,128,130,119,116,111,113,130,126,125,133,115,128,60,56,126,128,115,129,130,119,117,115,60,56,122,115,132,115,122,119,124,117^123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123,60,56,119,124,116,125^222,197,125,222,201,125,130,125,60,56,123,123,125,111,118,105,51,60,58,107,128,131^133,130,129,60,56,129,121,135,126,115,60,56,112,125,125,129,130,119,124,117,118,115,122,126^108,114,111,124,129,121,117,131,122,114,60,56,122,115,132,115,128,119,124,117,60,56,51,114,57,121^245,149,145,245,145,181,245,156,153,243,200,181,60,56,243,147,182,247,142,168,242,201,197,244,174,202,242,203,156,243,201,151,60,56,244,186,176,246,205,156,244,164,190,245,156,183,243,188,196,243,169,172,243,203,160,60,56,112,125,129,129^108,105,132,133,107,119,122,122,124,111,117,125,124,121,125,126,105,111,129,107,117,131,122,114,60,56,129,133,119,129,118^245,201,145,245,200,181,60,56,112,115,111,128,133,125,133,105,58,60,107,113,125,123^129,209,180,122,117,115,128,122,119,114,130,117,131,122,114,60,56,123,125,112,119,122,115,126,111,135^108,117,116,119,124,124,129,132,119,111,129,133,119,129,118^133,130,129,131,122,114,119,128,125,124,111,124,135,114,119,116,116,119,113,131,122,130,135,60,56,116,111,129,130,126,125,133,115,128,122,115,77,132,115,77,122,122,119,124,117,60,56,123,114,131,124,117,115,125,124,129^130,119,130,111,124,119,131,123,112,111,135,60,56,123,119,124,131,130,105,115,125,107^124,125,131,129,129,125,123,123,115,129,60,56,123,123,105,125,62,107,122,132,122,105,51,60,58,107,113,105,125,62,107,123^113,128,131,129,111,114,115,128,60,56,244,189,163,242,198,168,60,56,121,122,136,60,56,243,182,143,244,170,169,60,56,244,183,167^129,115,122,122,119,124,117,60,56,115,122,119,130,119,129,130,117,111,123,119,124,117,105,51,60,58,107,113,125,123^242,205,175,65,71,71,63,64,70,67,66,70^132,119,129,119,130,60,56,114,132,119,124,117,51,60,124,115,130^129,209,180,122,117,115,128,117,60,56,123,125,112,119,122,115,126,111,135^133,130,129,119,130,115,123,129,115,130,112,125,125,129,130,60,56,131,122,114,119,128,60,56,123,114,131,124,117,115,125,124,129,64,63,62^108,124,111,117,125,124,129,125,123,129,111,122,120,115,128,117,131,77,122,77,114,77,132,119,111,129,133,119,129,118^108,129,111,122,120,115,128,112,119,122,122,119,117,130,117,131,122,114,50^108,123,111,128,119,124,111,242,198,161,242,198,168,245,168,146,244,152,178,245,158,148,242,198,161,243,188,196^132,119,129,119,130,60,56,126,115,128,116,115,113,130,133,111,135,51,60,125,124,115^133,130,129,132,119,113,119,125,131,129,60,56,122,115,117,111,113,135,126,132,126,123,125,131,124,130,129,60,56,111,113,118,119,115,132,60,56,125,126,130,119,125,124,111,122^131,122,114,119,128,116,131,122,122,113,122,115,111,128,60,56,117,115,130,111,122,122,135,125,131,128,65,69,62,122,125,125,130,60,56,113,131,128,132,115,60,56,117,118,131,131,124,112,115,129,130,126,128,119,113,115^127,127,60,56,65,67,70,64,64,62,62,68,68^108,133,130,129,123,135,130,118,119,113,60,56,133,115,115,121,122,135,122,125,125,130,60,56,118,115,122,126,135,125,131,130,125,113,122,115,111,128,60,56,122,115,130,131,129,118,111,124,114,122,115,130,118,115,112,125,128,119,124,117,126,111,128,130,129^127,127,60,56,63,67,65,70,69,66,62,68,71^133,130,129,116,131,122,122,113,122,115,111,128,131,122,114,119,128,60,56,117,115,130,135,125,131,128,111,122,122,60,56,117,118,131,131,124,60,56,112,115,129,130,126,128,119,113,115^132,134,114,111,119,133,125,133,70,70,70^117,131,122,114,121,132,111,128,60,56,132,119,111,129,133,119,129,118^129,121,135,126,115,60,56,117,115,128,111,122,114,112,111,127^117,125,125,117,122,115,60,56,115,126,119,113,113,111,128,128,135^119,124,116,125,60,56,133,115,112,129,119,130,115,60,56,120,131,129,130,112,125,125,129,130^126,115,124,117,111,128,116,119,124,124,129,132,119,111,129,133,119,129,118^133,130,129,131,122,114,119,128,60,56,128,115,127,131,119,128,115,123,115,124,130,129,60,56,113,131,130,130,119,124,117,115,114,117,115,60,56,130,119,130,122,115,60,56,119,124,116,125^112,125,125,129,130,60,56,115,134,130,128,115,123,115,122,135,60,56,116,111,129,130,60,56,63,62,62,63,63,62^108,51,114,57,121,116,119,124,124,129,60,56,78,129,133,119,129,118^108,129,111,122,120,115,128,117,131,122,114,61,133,50^108,129,111,122,120,115,128,117,58,60,56,129,121,128,119,132^222,197,125,222,201,125,130,125,60,56,116,131,124,123,123,125,51,60,128,131","117,112,130,131^127,112,114,122,112,118,116^130,132,127,127,126,129,131^248,178,173,247,176,155,247,182,178,248,163,144^112,129,116,125,112^116,135,127,116,129,120,116,125,114,116^244,172,159,248,185,160^130,112,123,116^112,114,114,130,119,112,129,106,116,120,108^247,144,155,243,199,169,244,170,177,248,167,174^114,126,115,116^248,178,173,247,176,155,245,151,159,244,191,192^114,126,132,127,126,125^248,185,160,243,199,169,244,153,176^131,129,132,130,131,127,120,123,126,131^246,202,146,246,201,182^114,132,130,131,126,124,116,129^130,131,126,129,116^123,116,133,116,123,120,125,118^128,132,112,123,120,131,136^130,116,114,132,129,116^127,120,123,106,126,63,108,131,116,115^244,151,198,245,184,168^114,126,112,114,119,120,125,118^133,120,130,120,131,61,57,134,116,113,130,120,131,116^123,120,116,117,116,129,132,125,118^130,116,112,130,126,125^245,165,191,246,182,156,245,166,158,244,200,202,244,155,165,247,182,178,248,163,144^127,129,126,117,117,78,116,130,130,78,120,126,125,112,123^247,152,201,245,152,154,243,202,178,245,152,162^115,120,130,114,126,132,125,131^118,123,112,115,120,112,131,126,129^130,112,117,116^127,112,136,127,112,123^130,122,136,127,116^245,165,191,246,182,156,245,166,158,247,182,178,248,163,144^130,116,129,133,120,114,116^134,116,113,114,119,112,131^132,125,123,126,114,122^114,126,124,127,116,131,120,131,120,126,125^118,132,112,129,112,125,131,116,116^243,202,198^114,119,116,112,127^128,132,112,125,131,120,131,136^248,167,206,244,158,179,245,165,190,245,151,159,244,191,192^129,112,131,120,125,118^247,144,155,243,199,169,244,172,159,248,185,160^130,116,123,117,127,123,112,136^113,106,126,63,108,106,126,63,108,130,131^124,106,126,63,108,132,125,131^247,195,203,245,194,164,244,205,198^129,113,118^115,116,123,120,133,116,129,136^127,129,120,114,116^123,120,133,116,114,119,112,131^247,182,178,248,163,144,248,178,173,247,176,155^112,114,114,126,132,125,131^123,116,118,112,123","246,172,157,245,154,177,245,169,184,53,116,53,116,79,247,146,201,245,204,144,246,153,163^248,196,182,245,159,199,247,203,196,246,154,180^246,195,165,245,200,152,245,177,164^249,185,188,244,200,154,246,153,163,246,195,165","128,127,125,138,114,116,116,118,129,133,122,80,127,80,120,80,120,128,125,117^116,128,131,129,125,114,134,127,116,121,54,63,116,128,126^120,134,122,125,117,125,114,134,127,116,121,54,63,116,128,126^126,118,126,115,118,131,132^120,114,126,118,131,125,114,134,127,116,121,54,63,116,128,126^54,117,60,124,129,118,131,131,134,127^120,134,122,125,117,121,128,132,133,122,127,120,63,128,131,120^132,118,131,135,118,131,133,122,126,118^119,128,131,120,128,125,117^132,128,116,122,114,125^131,118,116,131,134,122,80,133^120,134,122,125,117^136,128,136,125,114,134,127,116,121,54,63,116,128,126^120,114,126,118,133,122,126,118^120,128,125,117,129,131,122,116,118,132^54,117,60,124,129,118,131,117,134,127,120,118,128,127^118,127,133,131,114,127,116,118^117,118,129,118,127,117^54,117,60,124,108,64,109,110,80,118,114,116,121^120,134,122,125,117,136,128,131,124,63,116,128,126^120,114,126,122,127,120^129,131,122,116,118,54,117,60,124^120,134,122,125,117,128,126,114,133,122,116,54,63,116,128,126^128,136,127,68,117,54,63,133,135^116,121,118,114,129,118,131,133,121,114,127,114,121^120,134,122,125,117,129,128,131,133,114,125,54,63,116,128,126^134,132,133,131,118,114,126,54,63,133,135^136,128,136,132,133,118,114,117,54,63,116,128,126^133,136,122,133,116,121,54,63,133,135^136,118,118,115,125,138,54,63,116,128,126^132,121,122,135,133,131,54,63,116,128,126^136,128,136,121,128,131,117,118,132,54,63,116,128,126^118,127,123,122,127,54,63,116,128,126^54,63,115,114,133,133,125,118,54,63,127,118,133,64^120,128,125,117,128,127,125,138^54,117,60,124,108,64,109,110,80,117,134,127,120,118,128,127^114,129,129,125,108,122,138,110^54,63,136,122,137,54,63,116,128,126","137,129,137,136,119,128,118,129,132,55,64,117,129,127^129,140,139,121,132,129,135,130,55,64,117,129,127^130,132,119,133,134,123,121,119,137,129,137,55,64,120,132^121,115,127,119,115,135,117,55,64,117,129,127^116,129,129,133,134,123,126,115,109,55,64,62,111,117,129,127^130,136,119,133,122,129,130,55,64,130,132,129^131,135,123,117,125,115,128,118,133,127,129,129,134,122,55,64,117,129,127^134,123,134,115,128,123,135,127,116,115,139,55,64,117,129,127^117,129,128,131,135,119,133,134,117,115,130,130,119,118,109,55,64,62,111,117,129,127^137,129,137,68,66,66,71,109,55,64,62,111,117,129,127^132,115,118,123,115,128,134,132,115,123,118,55,64,117,129,127^137,129,137,122,135,128,134,55,64,117,129,127^127,139,134,122,123,117,133,134,129,132,119,109,55,64,62,111,128,119,134^119,116,115,139,121,129,126,118,133,55,64,117,129,127^119,130,123,117,117,115,132,132,139,109,55,64,62,111,128,119,134^115,128,134,129,132,135,133,118,119,115,126,133,55,64,117,129,127^120,129,138,133,134,129,132,119,55,64,130,132,129^127,127,129,121,129,126,118,116,115,139,109,55,64,62,111,128,119,134^126,119,121,123,129,128,120,115,132,127,55,64,117,129,127^123,128,121,115,127,119,127,115,132,134,55,64,117,129,127^130,136,119,121,115,127,119,132,133,55,64,117,129,127^124,135,133,134,116,129,129,133,134,55,64,129,132,121^130,119,132,120,119,117,134,137,115,139,109,55,64,62,111,129,128,119^116,129,129,133,134,127,119,130,126,140,55,64,117,129,127^129,125,70,121,129,126,118,109,55,64,62,111,117,129,127^126,129,129,134,136,115,135,126,134,55,64,128,119,134^127,127,129,126,136,126,109,55,64,62,111,117,109,66,129,111,127^130,119,137,130,119,137,133,122,129,130,109,55,64,62,111,130,132,129^122,129,133,134,121,129,126,118,133,55,64,117,129,127^137,129,137,136,119,128,118,129,132,55,64,128,119,134^116,129,129,133,134,122,123,136,119,109,55,64,62,111,119,135^139,129,135,132,133,130,135,132,119,121,115,127,119,109,55,64,62,111,117,129,127^116,129,129,133,134,68,128,123,121,122,134,55,64,117,129,127^116,129,138,126,119,121,123,134,55,64,117,129,127^116,109,66,129,111,109,66,129,111,133,134,127,115,128,109,55,64,62,111,123,128,120,129^117,115,132,132,139,116,129,129,127,55,64,117,129,127^120,115,128,126,129,121,115,127,119,55,64,117,129,127^116,109,66,129,111,109,66,129,111,133,134,127,115,128,109,55,64,62,111,129,128,126,123,128,119^118,136,123,128,121,109,55,64,62,111,128,119,134^137,129,137,116,129,130,55,64,117,129,127^117,132,115,140,139,119,134,123,55,64,117,129,127^115,122,121,129,126,118,133,55,64,117,129,127^137,129,137,136,119,128,118,129,132,55,64,129,132,121^137,129,132,126,118,129,120,116,129,129,133,134,109,55,64,62,111,117,129,127^133,122,115,118,129,137,116,129,129,133,134,55,64,127,126^121,129,126,118,118,119,115,126,109,55,64,62,111,132,135^126,119,130,132,119,133,134,129,132,119,55,64,129,132,121^137,129,137,130,132,119,133,134,123,121,119,55,64,117,129,127^137,129,137,130,132,119,133,134,123,121,119,55,64,120,132^122,135,133,125,139,116,109,129,66,111,109,129,66,111,133,134,55,64,117,109,129,66,111,127^126,129,129,134,117,126,129,135,118,118,129,134,117,129,127^120,116,127,134,119,115,127,55,64,128,119,134^116,129,119,121,115,127,119,133,55,64,117,129,127^120,115,132,127,70,121,129,126,118,109,55,64,62,111,117,129,127^122,129,132,118,119,116,115,128,125,109,55,64,62,111,117,129,127^116,129,129,133,134,123,128,121,126,123,136,119,109,55,64,62,111,117,129,127^117,115,132,132,139,116,129,129,127,55,64,128,119,134^116,109,66,129,111,109,66,129,111,133,134,127,115,128,67,81,109,55,64,62,111,130,132,109,66,129,111^116,109,66,129,111,109,66,129,111,133,134,127,115,128,118,129,134,133,123,134,119^119,130,123,117,117,115,132,132,139,109,55,64,62,111,129,132,121^137,133,121,116,129,129,133,134,55,64,117,129,127^130,132,129,124,119,117,134,117,115,132,132,139,55,64,117,129,127^130,132,119,133,134,123,121,119,137,129,137,55,64,117,129,127^126,119,130,132,119,133,134,129,132,119,55,64,117,129,127^116,115,128,125,70,118,122,109,55,64,62,111,81,117,129,127^127,139,134,122,123,117,133,134,129,132,119,109,55,64,62,111,117,129,127^116,119,133,134,116,129,129,133,134,109,55,64,62,111,117,126,135,116^123,132,115,128,116,126,123,140,140,115,132,118,55,64,117,129,127^137,129,137,122,135,128,134,55,64,128,119,134^127,127,129,117,119,129,55,64,117,129,127^137,129,137,117,118,125,55,64,117,129,127^123,121,138,119,55,64,117,129,127^116,109,66,129,111,109,66,129,111,133,134,127,115,128,109,55,64,62,111,133,123,134,119^116,109,129,66,111,109,129,66,111,133,134,127,115,128,109,55,64,62,111,128,119,134^134,129,130,116,129,129,133,134,55,64,123,128,120,129^129,140,139,116,129,129,133,134,55,64,117,129,127^119,130,123,117,117,115,132,132,139,109,55,64,62,111,117,129,127^121,129,126,118,70,130,136,119,55,64,117,129,127^119,126,123,134,119,121,115,127,119,132,116,129,129,133,134,123,128,121,109,55,64,62,111,128,119,134^130,136,119,121,115,127,119,132,133,55,64,128,119,134^137,137,137,55,64,121,115,127,119,132,119,115,133,139,55,64,117,129,127^116,132,116,68,121,115,127,119,109,55,64,62,111,117,129,127^126,129,129,134,117,126,129,135,118,109,55,64,62,111,117,129,127^119,126,123,134,123,133,134,121,115,127,123,128,121,109,55,64,62,111,117,129,127^116,129,129,133,134,129,132,119,109,55,64,62,111,128,119,134^121,129,121,129,116,129,129,133,134,55,64,117,109,129,66,111,127^117,122,132,123,133,134,129,130,122,55,64,132,129,117,125,119,134,121,115,127,123,128,121^116,132,129,116,129,129,133,134,55,64,117,129,127^116,119,133,134,116,129,129,133,134,109,55,64,62,111,117,129,127^126,119,130,132,119,133,134,129,132,119,55,64,128,119,134^120,116,127,134,119,115,127,109,55,64,62,111,117,129,127^116,129,129,133,134,70,121,115,127,119,109,55,64,62,111,117,129,127^120,116,127,134,119,115,127,55,64,130,132,129^130,136,130,129,125,109,55,64,62,111,117,109,66,129,111,127^133,123,127,130,126,119,117,115,132,132,139,55,64,117,129,127^127,115,138,55,64,132,129,117,125,119,134,121,115,127,123,128,121,55,64,119,135^134,130,121,129,126,118,133,109,55,64,62,111,117,129,127^121,115,127,119,133,115,126,119,133,109,55,64,62,111,130,132,129^124,135,133,134,116,129,129,133,134,109,55,64,62,111,128,119,134^134,129,130,116,129,129,133,134,109,55,64,62,111,130,132,109,129,66,111^133,122,115,118,129,137,116,129,129,133,134,55,64,117,129,127^121,70,121,115,127,119,109,55,64,62,111,117,109,129,66,111,127","138,130,138,137,120,129,119,130,133,56,65,130,133,122^138,130,138,137,120,129,119,130,133,56,65,129,120,135^127,120,131,133,120,134,135,130,133,120,56,65,130,133,122^127,120,131,133,120,134,135,130,133,120,56,65,129,120,135^131,137,120,122,116,128,120,133,134,56,65,129,120,135^138,130,138,137,120,129,119,130,133,56,65,118,130,128^127,120,131,133,120,134,135,130,133,120,56,65,118,130,128")

local repTbl = {
	--Symbol & space removal
	["[%*%-<>%(%)\"!%?=`'_%+#%%%^&;:~{}%[%] ]"]="",
	[""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="",
	[""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="",
	[""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="",
	[""]="", ["|"]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="",
	[""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="",
	[""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="", [""]="",

	--This is the replacement table. It serves to deobfuscate words by replacing letters with their English "equivalents".
	[""]="a", [""]="a", [""]="a", [""]="a", [""]="a", [""]="a", [""]="a", -- First letter is Russian "\208\176". Convert > \97.
	[""]="a", [""]="a", [""]="a", [""]="a", [""]="a", [""]="a", -- Convert > \97. Note: , ,  fail with strlower, include both.
	[""]="c", [""]="c", [""]="c", [""]="c", [""]="c", [""]="c", [""]="c", [""]="c", [""]="c", [""]="c", --First letter is Russian "\209\129". Convert > \99. Note: , , ,  fail with strlower, include both.
	[""]="d", [""]="d", [""]="d", [""]="d", --Convert > \100. Note: ,  fail with strlower, include both.
	[""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", --First letter is Russian "\208\181". Convert > \101. 
	[""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", [""]="e", --Note: , , , , , ,  fail with strlower, include both.
	[""]="g", [""]="g", [""]="g", [""]="g", [""]="g", [""]="g", [""]="g", [""]="g", -- Convert > \103. Note: , , ,  fail with strlower, include both.
	[""]="h", [""]="h", -- Convert > \104. Note:  fail with strlower, include both.
	[""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", -- Convert > \105.
	[""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", --Convert > \105. -- Note: , , , ,  fail with strlower, include both.
	[""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", [""]="i", --Convert > \105. -- Note: , , ,  fail with strlower, include both.
	[""]="j", [""]="j", -- Convert > \106. -- Note:  fail with strlower, include both.
	[""]="k", [""]="k", [""]="k", -- First letter is Russian "\208\186". Convert > \107. -- Note:  fail with strlower, include both.
	[""]="l", [""]="l", [""]="l", [""]="l", [""]="l", [""]="l", -- Convert > \107. -- Note: , ,  fail with strlower, include both.
	[""]="m", [""]="m", -- First letter is capital Greek  "\206\156". Convert > \109
	[""]="n", [""]="n", [""]="n", [""]="n", -- First letter is small Greek eta  "\206\183". Convert > \110. 
	[""]="n", [""]="n", [""]="n", [""]="n", [""]="n", [""]="n", [""]="n", [""]="n", --Convert > \110. Note: , , ,  fail with strlower, include both.
	[""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", --First letter is Russian "\208\190". Convert > \111.
	[""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", [""]="o", --Note: , , , , ,  fail with strlower, include both.
	[""]="p", [""]="p", [""]="p", [""]="p", [""]="p", --First letter is Russian "\209\128". Convert > \112. --Note:  fail with strlower, include both.
	[""]="q", [""]="q", --Note:  fail with strlower, include both.
	[""]="r", [""]="r", [""]="r", [""]="r", [""]="r", [""]="r", [""]="r", [""]="r", --Convert > \114. -- Note: , ,  fail with strlower, include both.
	[""]="s", [""]="s", [""]="s", [""]="s", [""]="s", [""]="s", [""]="s", [""]="s", [""]="s", [""]="s", --Convert > \115. -- Note: , , , ,  fail with strlower, include both.
	[""]="t", [""]="t", [""]="t", [""]="t", [""]="t", [""]="t", [""]="t", [""]="t", [""]="t", --Convert > \116. -- Note: , , ,  fail with strlower, include both.
	[""]="u", [""]="u", [""]="u", [""]="u", --Convert > \117.
	[""]="u", [""]="u", [""]="u", [""]="u", [""]="u", [""]="u", [""]="u", [""]="u", [""]="u", [""]="u", --Convert > \117. -- Note: , , , ,  fail with strlower, include both.
	[""]="w", [""]="w", [""]="w", [""]="w", [""]="w", [""]="w", [""]="w", [""]="w", [""]="w", [""]="w", [""]="w", [""]="w", -- First letter is small Greek omega  "\207\142". Convert > \119. -- Note: , , , ,  fail with strlower, include both.
	[""]="y", [""]="y", [""]="y", [""]="y", -- First letter is Russian "\209\131". Convert > \121. -- Note:  fail with strlower, include both.
	[""]="0", [""]="1", [""]="2", [""]="3", [""]="4", [""]="5", [""]="6", [""]="7", [""]="8", [""]="9",
	[""]=".", [""]=".", [""]=",", [""]="o", [""]="r", [""]="o", [""]="t",
}

--[[ Chat Scanning ]]--
local Ambiguate, BNGetGameAccountInfoByGUID, gsub, lower, next, type, tremove = Ambiguate, BNGetGameAccountInfoByGUID, gsub, string.lower, next, type, tremove
local IsCharacterFriend, IsGuildMember, UnitInRaid, UnitInParty, CanComplainChat, SetCVar = IsCharacterFriend, IsGuildMember, UnitInRaid, UnitInParty, CanComplainChat, SetCVar
local CanReportPlayer = C_ReportSystem and C_ReportSystem.CanReportPlayer or C_ChatInfo.CanReportPlayer -- XXX 8.1
local ReportPlayer = C_ReportSystem and C_ReportSystem.ReportPlayer or C_ChatInfo.ReportPlayer -- XXX 8.1
local PlayerLocation = PlayerLocation
local spamCollector, backupCollector, spamLogger, prevShow, enableBubble = {}, {}, {}, 0, false
local blockedLineId, et, chatLines, chatPlayers = 0, 7, {}, {}
local btn, reportFrame
local function IsFriendly(name, flag, _, guid)
	if not guid then return true end -- LocalDefense automated prints
	if not guid:find("^Player") then -- Bad addons
		local msg = "BadBoy: Unexpected GUID requested by an addon: ".. guid
		print(msg)
		geterrorhandler()(msg)
		return true
	end
	local _, characterName = BNGetGameAccountInfoByGUID(guid)
	if characterName or IsGuildMember(guid) or IsCharacterFriend(guid) or UnitInRaid(name) or UnitInParty(name) or flag == "GM" or flag == "DEV" then
		return true
	end
end
local function Cleanse(msg)
	msg = gsub(msg, "|c[^%[]+%[([^%]]+)%]|h|r", "%1") -- Speed up processing messages with links by removing them
	msg = lower(msg) --Lower all text, remove capitals
	for k,v in next, repTbl do
		msg = gsub(msg, k, v)
	end
	return msg
end
local eventFunc = function(_, event, msg, player, _, _, _, flag, channelId, channelNum, _, _, lineId, guid)
	-- Re-enable chat bubbles if they were disabled in the previous event.
	if enableBubble then
		enableBubble = false
		SetCVar("chatBubbles", 1)
	end

	blockedLineId = 0
	if event == "CHAT_MSG_CHANNEL" and (channelId == 0 or type(channelId) ~= "number") then return end --Only scan official custom channels (gen/trade)

	local trimmedPlayer = Ambiguate(player, "none")
	if IsFriendly(trimmedPlayer, flag, nil, guid) then return end

	local debug = msg --Save original message format
	msg = Cleanse(msg)

	--20 line text buffer, this checks the current line, and blocks it if it's the same as one of the previous 20
	if event == "CHAT_MSG_CHANNEL" then
		local cleanestMsg = gsub(msg, "[@,./\\=]", "") -- Anything purposely not removed by Cleanse()
		for i=1, #chatLines do
			if chatLines[i] == cleanestMsg and chatPlayers[i] == guid then --If message same as one in previous 20 and from the same person...
				blockedLineId = lineId
				-- Reduce the chances of a spam report expiring (line id is too old) by refreshing it
				if spamCollector[guid] and S.is(msg) then
					local loc = PlayerLocation:CreateFromChatLineID(lineId)
					spamCollector[guid] = loc
					if BADBOY_OPTIONS.tipSpam then
						spamLogger[guid] = debug
					end
				elseif backupCollector[guid] and next(spamCollector) and S.is(msg) then
					local loc = PlayerLocation:CreateFromChatLineID(lineId)
					backupCollector[guid] = loc
				end
				--
				return
			end
			if i == 20 then tremove(chatLines, 1) tremove(chatPlayers, 1) end --Don't let the DB grow larger than 20
		end
		chatLines[#chatLines+1] = cleanestMsg
		chatPlayers[#chatPlayers+1] = guid
	end
	--End text buffer

	if S.is(msg) then
		if event == "CHAT_MSG_SAY" or event == "CHAT_MSG_YELL" then
			-- Awful way of disabling chat bubbles when spam is detected.
			-- Chat bubbles are processed internally by the game client AFTER all the addon event handlers are fired.
			if GetCVarBool("chatBubbles") then
				enableBubble = true
				SetCVar("chatBubbles", 0)
			end
		end
		if not BADBOY_OPTIONS.freqButton then
			for i = 1, #S[et] do
				if strfind(msg, S[et][i]) then
					blockedLineId = lineId
					return
				end
			end
		end
		if BadBoyLog then
			BadBoyLog("BadBoy", event, trimmedPlayer, debug)
		end
		if not BADBOY_BLACKLIST[guid] and not IsEncounterInProgress() then
			local loc = PlayerLocation:CreateFromChatLineID(lineId)
			spamCollector[guid] = loc
			if BADBOY_OPTIONS.tipSpam then
				spamLogger[guid] = debug
				if btn:IsShown() and reportFrame:IsMouseOver() then
					GameTooltip_Hide()
					reportFrame:GetScript("OnEnter")(reportFrame) -- Add more spam to tooltip if shown
				end
			end

			local t = GetTime()
			if t-prevShow > (BADBOY_OPTIONS.freqBtn and 30 or 90) then
				if prevShow == 0 then
					prevShow = t+25
					-- Delay the first one to grab more spam on really bad realms
					C_Timer.After(25, function() btn:Show() end)
				else
					prevShow = t
					btn:Show()
				end
			end
		end

		if BADBOY_BLACKLIST[guid] then
			-- We have already reported this person today. We won't show the button again, but add them to the backup table to report them
			-- again only if we click the button for other spam, to completely eliminate processing their chat, improving performance.
			local loc = PlayerLocation:CreateFromChatLineID(lineId)
			backupCollector[guid] = loc
		end

		blockedLineId = lineId
		return
	elseif next(spamCollector) then
		local t = GetTime()
		if t-prevShow > (BADBOY_OPTIONS.freqBtn and 30 or 90) then
			prevShow = t
			btn:Show()
		end
	end
end
local filterFunc = function(_, _, _, _, _, _, _, _, _, _, _, _, lineId)
	if blockedLineId == lineId then
		return true
	end
end

do
	btn = CreateFrame("Frame", nil, ChatFrame1)
	btn:SetWidth(50)
	btn:SetHeight(50)
	btn:SetPoint("BOTTOMRIGHT", 18, -20)
	btn:SetFrameStrata("DIALOG")
	local tx = btn:CreateTexture()
	tx:SetAllPoints(btn)
	tx:SetMask("Interface\\CharacterFrame\\TempPortraitAlphaMask")
	tx:SetTexture(132360) -- Interface/Icons/Ability_Warrior_ShieldMastery
	local animGroup = btn:CreateAnimationGroup()
	animGroup:SetLooping("REPEAT")
	local scale = animGroup:CreateAnimation("Scale")
	scale:SetOrder(1)
	scale:SetFromScale(0.25,0.25)
	scale:SetToScale(1,1)
	scale:SetDuration(0.4)
	local scale2 = animGroup:CreateAnimation("Scale")
	scale2:SetOrder(2)
	scale2:SetFromScale(1,1)
	scale2:SetToScale(0.25,0.25)
	scale2:SetDuration(0.4)
	scale2:SetEndDelay(8)
	animGroup:Play()
	btn:Hide()

	reportFrame = CreateFrame("Button", nil, btn)
	reportFrame:SetAllPoints(ChatFrame1)
	reportFrame:SetFrameStrata("DIALOG")
	local ticker = nil
	local tickerFunc = function()
		local canReport = false
		for k, v in next, spamCollector do
			if not v:IsChatLineID() or not v:IsValid() then
				print("BadBoy: Bad Data 5 - ", v:IsChatLineID(), v:IsValid())
			end
			if CanReportPlayer(v) then
				canReport = true
			else
				spamCollector[k] = nil
				spamLogger[k] = nil
			end
		end
		for k, v in next, backupCollector do
			if not v:IsChatLineID() or not v:IsValid() then
				print("BadBoy: Bad Data 6 - ", v:IsChatLineID(), v:IsValid())
			end
			if not CanReportPlayer(v) then
				backupCollector[k] = nil
			end
		end
		if not canReport then
			btn:Hide()
		end
	end
	btn:SetScript("OnShow", function()
		if ticker then ticker:Cancel() end
		ticker = C_Timer.NewTicker(5, tickerFunc)
		tickerFunc()
		-- Don't animate if the feature is disabled
		if animGroup:IsPlaying() and BADBOY_OPTIONS.noAnim then
			btn:SetWidth(12)
			btn:SetHeight(12)
			animGroup:Stop()
			btn:ClearAllPoints()
			btn:SetPoint("BOTTOMRIGHT", 0, -5)
		elseif not animGroup:IsPlaying() and not BADBOY_OPTIONS.noAnim then
			btn:SetWidth(46)
			btn:SetHeight(46)
			animGroup:Play()
			btn:ClearAllPoints()
			btn:SetPoint("BOTTOMRIGHT", 18, -20)
		end
	end)
	btn:SetScript("OnHide", function()
		if ticker then
			ticker:Cancel()
			ticker = nil
		end
	end)
	reportFrame:SetScript("OnClick", function(self, btn)
		if IsAltKeyDown() then -- Dismiss
			prevShow = GetTime() -- Refresh throttle so we don't risk showing again straight after reporting
			self:GetParent():Hide()
			for k in next, spamCollector do
				spamCollector[k] = nil
				spamLogger[k] = nil
			end
		else -- Report
			prevShow = GetTime() -- Refresh throttle so we don't risk showing again straight after reporting
			self:GetParent():Hide()

			local systemMsg = {GetFramesRegisteredForEvent("CHAT_MSG_SYSTEM")} -- Don't show the "Complaint Registered" message
			local infoMsg = {GetFramesRegisteredForEvent("UI_INFO_MESSAGE")} -- Don't show the "Thanks for the report" message
			local calendarError = {GetFramesRegisteredForEvent("CALENDAR_UPDATE_ERROR")} -- Remove calendar error popup (Blizz bug)
			for i = 1, #systemMsg do
				systemMsg[i]:UnregisterEvent("CHAT_MSG_SYSTEM")
			end
			for i = 1, #infoMsg do
				infoMsg[i]:UnregisterEvent("UI_INFO_MESSAGE")
			end
			for i = 1, #calendarError do
				calendarError[i]:UnregisterEvent("CALENDAR_UPDATE_ERROR")
			end

			for k, v in next, spamCollector do
				if CanReportPlayer(v) then
					BADBOY_BLACKLIST[k] = true
					ReportPlayer("spam", v, "Reported by the BadBoy addon. If this seems wrong, tell the author @funkbw on Twitter.")
				end
				spamCollector[k] = nil
				spamLogger[k] = nil
			end
			for k, v in next, backupCollector do
				if CanReportPlayer(v) then
					ReportPlayer("spam", v, "Reported by the BadBoy addon. If this seems wrong, tell the author @funkbw on Twitter.")
				end
				backupCollector[k] = nil
			end

			for i = 1, #systemMsg do
				systemMsg[i]:RegisterEvent("CHAT_MSG_SYSTEM")
			end
			for i = 1, #infoMsg do
				infoMsg[i]:RegisterEvent("UI_INFO_MESSAGE")
			end
			for i = 1, #calendarError do
				-- There's a delay before the event fires
				C_Timer.After(5, function() calendarError[i]:RegisterEvent("CALENDAR_UPDATE_ERROR") end)
			end
		end
	end)
	reportFrame:SetScript("OnEnter", function(self)
		GameTooltip:SetOwner(self, "ANCHOR_CURSOR")
		GameTooltip:AddLine(S.spamBlocked, 1, 1, 1)
		GameTooltip:AddLine(S.clickToReport, 1, 1, 1)
		if next(spamLogger) then
			GameTooltip:AddLine(" ", 0.5, 0.5, 1)
			for k, v in next, spamLogger do
				GameTooltip:AddLine(v, 0.2, 1, 0)
			end
		end
		GameTooltip:Show()
	end)
	reportFrame:SetScript("OnLeave", GameTooltip_Hide)
end

--[[ Add Filters ]]--
do
	local f = CreateFrame("Frame")
	f:SetScript("OnEvent", eventFunc)
	local tbl = {
		"CHAT_MSG_CHANNEL",
		"CHAT_MSG_YELL",
		"CHAT_MSG_SAY",
		"CHAT_MSG_WHISPER",
		"CHAT_MSG_EMOTE",
		"CHAT_MSG_DND",
		"CHAT_MSG_AFK",
	}
	for i = 1, #tbl do
		local event = tbl[i]
		local frames = {GetFramesRegisteredForEvent(event)}
		f:RegisterEvent(event)
		ChatFrame_AddMessageEventFilter(event, filterFunc)
		for i = 1, #frames do
			local frame = frames[i]
			frame:UnregisterEvent(event)
			frame:RegisterEvent(event)
		end
	end
end

--[[ Blacklist ]]--
do
	local f = CreateFrame("Frame")
	f:RegisterEvent("ADDON_LOADED")
	f:RegisterEvent("PLAYER_LOGIN")
	f:SetScript("OnEvent", function(frame, event, addon)
		if addon == "BadBoy" then
			if type(BADBOY_OPTIONS) ~= "table" then BADBOY_OPTIONS = {} end
			if type(BADBOY_BLACKLIST) ~= "table" then BADBOY_BLACKLIST = {} end
			frame:UnregisterEvent(event)
		elseif event == "PLAYER_LOGIN" then
			-- Blacklist DB setup, needed since Blizz nerfed ReportPlayer so hard the block sometimes only lasts a few minutes.
			local dateTbl = C_DateAndTime.GetCurrentCalendarTime and C_DateAndTime.GetCurrentCalendarTime() or C_Calendar.GetDate() -- XXX 8.1
			local day = dateTbl.monthDay
			if BADBOY_BLACKLIST.dayFromCal ~= day then
				BADBOY_BLACKLIST = {dayFromCal = day} -- Can't use ADDON_LOADED as CalendarGetDate isn't always ready on very first login.
			end
			SetCVar("spamFilter", 1)
			frame:UnregisterEvent(event)
			BADBOY_OPTIONS.tmp = nil
			BADBOY_OPTIONS.tmpm = nil
			BADBOY_OPTIONS.tmpl = nil
			BADBOY_OPTIONS.freqButton = nil

			-- Chat bubble restore
			frame:SetScript("OnEvent", function()
				if enableBubble then
					enableBubble = false
					SetCVar("chatBubbles", 1)
				end
			end)
			-- Hopefully we never end up in a situation where we've permanently disabled chat bubbles for the user.
			frame:RegisterEvent("PLAYER_LOGOUT")
			frame:RegisterEvent("CHAT_MSG_MONSTER_SAY")
			frame:RegisterEvent("CHAT_MSG_MONSTER_YELL")
		end
	end)
end

_G.BadBoyIsFriendly = IsFriendly
_G.BadBoyCleanse = Cleanse
